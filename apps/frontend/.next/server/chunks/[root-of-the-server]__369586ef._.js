module.exports=[93695,(e,t,n)=>{t.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},18622,(e,t,n)=>{t.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(e,t,n)=>{t.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(e,t,n)=>{t.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},24725,(e,t,n)=>{t.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},54799,(e,t,n)=>{t.exports=e.x("crypto",()=>require("crypto"))},1466,91490,42960,37966,e=>{"use strict";let t={fatal:60,error:50,warn:40,info:30,debug:20,trace:10,silent:1/0};class n{name;level;bindings;constructor(e={},n={}){this.name=e.name??"optiq",this.level=t[e.level??"info"],this.bindings=n}shouldLog(e){return t[e]>=this.level}formatMessage(e,t,n,r){if(!this.shouldLog(e))return;let a=new Date().toISOString(),i=`[${a}] ${e.toUpperCase()} (${this.name})`;if("string"==typeof t)return void console[e](i,t,...void 0!==n?[n,...r||[]]:r||[]);let s={...this.bindings,...t};Object.keys(s).length>0?console[e](i,n||"",s,...r||[]):console[e](i,n||"",...r||[])}fatal(e,t,...n){this.formatMessage("error",e,t,n)}error(e,t,...n){this.formatMessage("error",e,t,n)}warn(e,t,...n){this.formatMessage("warn",e,t,n)}info(e,t,...n){this.formatMessage("info",e,t,n)}debug(e,t,...n){this.formatMessage("debug",e,t,n)}trace(e,t,...n){this.formatMessage("debug",e,t,n)}child(e){return new n({name:this.name,level:Object.keys(t).find(e=>t[e]===this.level)},{...this.bindings,...e})}}!function(e={}){new n(e)}();var r=e.i(46989);let a=r.z.enum(["GOOGLE_ADS","META","TIKTOK","LINKEDIN","X"]),i=r.z.string().regex(/^\d{4}-\d{2}-\d{2}$/);r.z.object({channel:a,date:i,campaign_id:r.z.string().min(1),campaign_name:r.z.string().min(1).optional(),adset_id:r.z.string().min(1).optional(),adset_name:r.z.string().min(1).optional(),ad_id:r.z.string().min(1).optional(),ad_name:r.z.string().min(1).optional(),spend_micros:r.z.bigint().nonnegative(),clicks:r.z.bigint().nonnegative(),impressions:r.z.bigint().nonnegative(),publisher_platform:r.z.string().min(1).optional()});let s={FREE:{tier:"FREE",name:"Free",description:"Get started with basic tracking",limits:{maxWorkspaces:1,maxConnectors:1,monthlyEventLimit:1e3,dataRetentionDays:7,attributionModels:["LAST_TOUCH"],alertsEnabled:!1,ssoEnabled:!1,prioritySupport:!1},pricing:{monthlyPriceCents:0,annualPriceCents:0,overageEventsPer10kCents:0,overageConnectorCents:0},features:["1 workspace","1 ad platform connector","1,000 events/month","Last-touch attribution","7-day data retention"]},STARTER:{tier:"STARTER",name:"Starter",description:"For small teams getting started with attribution",limits:{maxWorkspaces:1,maxConnectors:2,monthlyEventLimit:1e4,dataRetentionDays:14,attributionModels:["FIRST_TOUCH","LAST_TOUCH","LINEAR"],alertsEnabled:!1,ssoEnabled:!1,prioritySupport:!1},pricing:{monthlyPriceCents:4900,annualPriceCents:47e3,overageEventsPer10kCents:500,overageConnectorCents:1500},features:["1 workspace","2 ad platform connectors","10,000 events/month","First, last & linear attribution","14-day data retention","Email support"]},GROWTH:{tier:"GROWTH",name:"Growth",description:"For growing teams who need full attribution insights",limits:{maxWorkspaces:3,maxConnectors:10,monthlyEventLimit:1e5,dataRetentionDays:90,attributionModels:["FIRST_TOUCH","LAST_TOUCH","LINEAR","TIME_DECAY","POSITION_BASED"],alertsEnabled:!0,ssoEnabled:!1,prioritySupport:!1},pricing:{monthlyPriceCents:14900,annualPriceCents:143e3,overageEventsPer10kCents:400,overageConnectorCents:1e3},features:["3 workspaces","All ad platform connectors","100,000 events/month","All attribution models","90-day data retention","Waste & CPA alerts","Priority email support"],recommended:!0},SCALE:{tier:"SCALE",name:"Scale",description:"For enterprises with advanced needs",limits:{maxWorkspaces:-1,maxConnectors:-1,monthlyEventLimit:1e6,dataRetentionDays:365,attributionModels:["FIRST_TOUCH","LAST_TOUCH","LINEAR","TIME_DECAY","POSITION_BASED","DATA_DRIVEN"],alertsEnabled:!0,ssoEnabled:!0,prioritySupport:!0},pricing:{monthlyPriceCents:49900,annualPriceCents:479e3,overageEventsPer10kCents:300,overageConnectorCents:500},features:["Unlimited workspaces","Unlimited connectors","1,000,000+ events/month","All attribution models + data-driven","365-day data retention","Custom lookback windows","SSO/SAML (coming soon)","Dedicated support","SLA guarantee"]}};function o(e){return s[e]}function l(e){return s[e].limits}function c(e){return -1===e}function d(e,t,n){let r=Math.max(0,e.trackedEvents-t.monthlyEventLimit),a=c(t.maxConnectors)?0:Math.max(0,e.connectedAccounts-t.maxConnectors),i=Math.ceil(r/1e4)*n.overageEventsPer10kCents,s=a*n.overageConnectorCents;return{eventsOverage:r,connectorsOverage:a,eventsOverageCents:i,connectorsOverageCents:s,totalOverageCents:i+s}}function u(e,t){let n=[];return!c(t.maxWorkspaces)&&e.workspacesUsed>t.maxWorkspaces&&n.push(`Workspace limit exceeded (${e.workspacesUsed}/${t.maxWorkspaces})`),!c(t.maxConnectors)&&e.connectedAccounts>t.maxConnectors&&n.push(`Connector limit exceeded (${e.connectedAccounts}/${t.maxConnectors})`),e.trackedEvents>1.5*t.monthlyEventLimit&&n.push(`Event limit significantly exceeded (${e.trackedEvents}/${t.monthlyEventLimit})`),{withinLimits:0===n.length,violations:n}}function p(e,t){let n=["FREE","STARTER","GROWTH","SCALE"];return n.indexOf(t)>n.indexOf(e)}function m(e,t){let n=["FREE","STARTER","GROWTH","SCALE"];return n.indexOf(t)<n.indexOf(e)}function g(e){let t=["FREE","STARTER","GROWTH","SCALE"],n=t.indexOf(e);return n<t.length-1?t[n+1]:null}e.s(["PLAN_DEFINITIONS",0,s,"calculateOverages",()=>d,"canDowngrade",()=>m,"canUpgrade",()=>p,"checkLimits",()=>u,"getPlanDefinition",()=>o,"getPlanLimits",()=>l,"getUpgradePath",()=>g,"isUnlimited",()=>c],91490),e.s([],42960),e.i(54799);let v=r.z.enum(["development","staging","production"]);class h extends Error{details;constructor(e,t){super(e),this.name="EnvValidationError",this.details=t}}function E(e,t,n={}){let r=e.safeParse(t);if(r.success)return r.data;let a=new Set(n.redactKeys??[]),i={};for(let[e,n]of Object.entries(t))i[e]=a.has(e)?"[REDACTED]":n;let s=function(e){let t=e.flatten(),n=[];for(let[e,r]of Object.entries(t.fieldErrors))Array.isArray(r)&&r.length>0&&n.push(`  • ${e}: ${r.join(", ")}`);return t.formErrors.length>0&&n.push(`  • ${t.formErrors.join(", ")}`),{formErrors:t.formErrors,fieldErrors:t.fieldErrors,readableMessage:n.length>0?`
${n.join("\n")}`:"Unknown validation error"}}(r.error);throw new h(`
╔════════════════════════════════════════════════════════════════════════════╗
║ ENVIRONMENT CONFIGURATION ERROR                                            ║
╚════════════════════════════════════════════════════════════════════════════╝

Your application failed to start due to invalid or missing environment variables.

ERRORS:${s.readableMessage}

TROUBLESHOOTING:
  1. Copy .env.example to .env if you haven't already
  2. Fill in all required values in your .env file
  3. Ensure all values match the expected format (URLs, numbers, etc.)
  4. Check that sensitive values meet minimum length requirements

For more details, see .env.example in the project root.
`,{errors:s,snapshot:i})}function f(e){return{appEnv:e,isDevelopment:"development"===e,isStaging:"staging"===e,isProduction:"production"===e}}e.s(["AppEnvSchema",0,v,"buildEnvMeta",()=>f,"loadEnv",()=>E],37966),e.s([],1466)},12941,e=>{"use strict";e.i(42960);var t=e.i(91490);e.s(["PLAN_DEFINITIONS",()=>t.PLAN_DEFINITIONS,"calculateOverages",()=>t.calculateOverages])},25881,(e,t,n)=>{"use strict";t.exports=e.r(13493).vendored["react-rsc"].ReactServerDOMTurbopackServer},86040,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"registerServerReference",{enumerable:!0,get:function(){return r.registerServerReference}});let r=e.r(25881)},67650,(e,t,n)=>{"use strict";function r(e){for(let t=0;t<e.length;t++){let n=e[t];if("function"!=typeof n)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof n}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ensureServerEntryExports",{enumerable:!0,get:function(){return r}})},43254,e=>{"use strict";var t=e.i(56884),n=e.i(42064),r=e.i(1824),a=e.i(99326),i=e.i(18794),s=e.i(83629),o=e.i(41446),l=e.i(61251),c=e.i(5708),d=e.i(59092),u=e.i(99563),p=e.i(39870),m=e.i(8016),g=e.i(7624),v=e.i(70065),h=e.i(36141),E=e.i(93695);e.i(58762);var f=e.i(24378),R=e.i(86040),x=e.i(70081);e.i(1466);var C=e.i(12941);async function b(){let e=Object.values(C.PLAN_DEFINITIONS).map(e=>({tier:e.tier,name:e.name,description:e.description,features:e.features,recommended:e.recommended??!1,pricing:{monthly:e.pricing.monthlyPriceCents/100,annual:e.pricing.annualPriceCents/100,annualMonthly:Math.round(e.pricing.annualPriceCents/12)/100},limits:{workspaces:-1===e.limits.maxWorkspaces?"Unlimited":e.limits.maxWorkspaces,connectors:-1===e.limits.maxConnectors?"Unlimited":e.limits.maxConnectors,events:e.limits.monthlyEventLimit.toLocaleString(),retention:`${e.limits.dataRetentionDays} days`,attributionModels:e.limits.attributionModels,alerts:e.limits.alertsEnabled,sso:e.limits.ssoEnabled,prioritySupport:e.limits.prioritySupport},overages:{eventsPer10k:e.pricing.overageEventsPer10kCents/100,connector:e.pricing.overageConnectorCents/100}}));return x.NextResponse.json({plans:e})}(0,e.i(67650).ensureServerEntryExports)([b]),(0,R.registerServerReference)(b,"00f0232cbdb5a218d173b7fac90c95164dfa97020d",null),e.s(["GET",()=>b],88601);var y=e.i(88601);let O=new t.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/billing/plans/route",pathname:"/api/billing/plans",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/OneDrive/Desktop/Optiq/CascadeProjects/windsurf-project/apps/frontend/src/app/api/billing/plans/route.ts",nextConfigOutput:"",userland:y}),{workAsyncStorage:A,workUnitAsyncStorage:S,serverHooks:T}=O;function w(){return(0,r.patchFetch)({workAsyncStorage:A,workUnitAsyncStorage:S})}async function P(e,t,r){O.isDev&&(0,a.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let R="/api/billing/plans/route";R=R.replace(/\/index$/,"")||"/";let x=await O.prepare(e,t,{srcPage:R,multiZoneDraftMode:!1});if(!x)return t.statusCode=400,t.end("Bad Request"),null==r.waitUntil||r.waitUntil.call(r,Promise.resolve()),null;let{buildId:C,params:b,nextConfig:y,parsedUrl:A,isDraftMode:S,prerenderManifest:T,routerServerContext:w,isOnDemandRevalidate:P,revalidateOnlyGenerated:k,resolvedPathname:_,clientReferenceManifest:N,serverActionsManifest:I}=x,M=(0,l.normalizeAppPath)(R),L=!!(T.dynamicRoutes[M]||T.routes[_]),D=async()=>((null==w?void 0:w.render404)?await w.render404(e,t,A,!1):t.end("This page could not be found"),null);if(L&&!S){let e=!!T.routes[_],t=T.dynamicRoutes[M];if(t&&!1===t.fallback&&!e){if(y.experimental.adapterPath)return await D();throw new E.NoFallbackError}}let U=null;!L||O.isDev||S||(U="/index"===(U=_)?"/":U);let j=!0===O.isDev||!L,H=L&&!j;I&&N&&(0,s.setReferenceManifestsSingleton)({page:R,clientReferenceManifest:N,serverActionsManifest:I,serverModuleMap:(0,o.createServerModuleMap)({serverActionsManifest:I})});let F=e.method||"GET",$=(0,i.getTracer)(),q=$.getActiveScopeSpan(),W={params:b,prerenderManifest:T,renderOpts:{experimental:{authInterrupts:!!y.experimental.authInterrupts},cacheComponents:!!y.cacheComponents,supportsDynamicResponse:j,incrementalCache:(0,a.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:y.cacheLife,waitUntil:r.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,n,r)=>O.onRequestError(e,t,r,w)},sharedContext:{buildId:C}},z=new c.NodeNextRequest(e),G=new c.NodeNextResponse(t),K=d.NextRequestAdapter.fromNodeNextRequest(z,(0,d.signalFromNodeResponse)(t));try{let s=async e=>O.handle(K,W).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let n=$.getRootSpanAttributes();if(!n)return;if(n.get("next.span_type")!==u.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${n.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let r=n.get("next.route");if(r){let t=`${F} ${r}`;e.setAttributes({"next.route":r,"http.route":r,"next.span_name":t}),e.updateName(t)}else e.updateName(`${F} ${R}`)}),o=!!(0,a.getRequestMeta)(e,"minimalMode"),l=async a=>{var i,l;let c=async({previousCacheEntry:n})=>{try{if(!o&&P&&k&&!n)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let i=await s(a);e.fetchMetrics=W.renderOpts.fetchMetrics;let l=W.renderOpts.pendingWaitUntil;l&&r.waitUntil&&(r.waitUntil(l),l=void 0);let c=W.renderOpts.collectedTags;if(!L)return await (0,m.sendResponse)(z,G,i,W.renderOpts.pendingWaitUntil),null;{let e=await i.blob(),t=(0,g.toNodeOutgoingHttpHeaders)(i.headers);c&&(t[h.NEXT_CACHE_TAGS_HEADER]=c),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let n=void 0!==W.renderOpts.collectedRevalidate&&!(W.renderOpts.collectedRevalidate>=h.INFINITE_CACHE)&&W.renderOpts.collectedRevalidate,r=void 0===W.renderOpts.collectedExpire||W.renderOpts.collectedExpire>=h.INFINITE_CACHE?void 0:W.renderOpts.collectedExpire;return{value:{kind:f.CachedRouteKind.APP_ROUTE,status:i.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:n,expire:r}}}}catch(t){throw(null==n?void 0:n.isStale)&&await O.onRequestError(e,t,{routerKind:"App Router",routePath:R,routeType:"route",revalidateReason:(0,p.getRevalidateReason)({isStaticGeneration:H,isOnDemandRevalidate:P})},w),t}},d=await O.handleResponse({req:e,nextConfig:y,cacheKey:U,routeKind:n.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:T,isRoutePPREnabled:!1,isOnDemandRevalidate:P,revalidateOnlyGenerated:k,responseGenerator:c,waitUntil:r.waitUntil,isMinimalMode:o});if(!L)return null;if((null==d||null==(i=d.value)?void 0:i.kind)!==f.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==d||null==(l=d.value)?void 0:l.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});o||t.setHeader("x-nextjs-cache",P?"REVALIDATED":d.isMiss?"MISS":d.isStale?"STALE":"HIT"),S&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let u=(0,g.fromNodeOutgoingHttpHeaders)(d.value.headers);return o&&L||u.delete(h.NEXT_CACHE_TAGS_HEADER),!d.cacheControl||t.getHeader("Cache-Control")||u.get("Cache-Control")||u.set("Cache-Control",(0,v.getCacheControlHeader)(d.cacheControl)),await (0,m.sendResponse)(z,G,new Response(d.value.body,{headers:u,status:d.value.status||200})),null};q?await l(q):await $.withPropagatedContext(e.headers,()=>$.trace(u.BaseServerSpan.handleRequest,{spanName:`${F} ${R}`,kind:i.SpanKind.SERVER,attributes:{"http.method":F,"http.target":e.url}},l))}catch(t){if(t instanceof E.NoFallbackError||await O.onRequestError(e,t,{routerKind:"App Router",routePath:M,routeType:"route",revalidateReason:(0,p.getRevalidateReason)({isStaticGeneration:H,isOnDemandRevalidate:P})}),L)throw t;return await (0,m.sendResponse)(z,G,new Response(null,{status:500})),null}}e.s(["handler",()=>P,"patchFetch",()=>w,"routeModule",()=>O,"serverHooks",()=>T,"workAsyncStorage",()=>A,"workUnitAsyncStorage",()=>S],43254)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__369586ef._.js.map