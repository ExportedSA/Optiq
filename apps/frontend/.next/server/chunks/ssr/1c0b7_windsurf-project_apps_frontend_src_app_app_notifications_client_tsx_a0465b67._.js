module.exports=[60878,a=>{"use strict";var b=a.i(30091),c=a.i(51729);function d(){let[a,d]=(0,c.useState)([]),[e,f]=(0,c.useState)(!0),[g,h]=(0,c.useState)(null),i=(0,c.useCallback)(async()=>{f(!0),h(null);try{let a=await fetch("/api/notifications?limit=50&includeRead=true");if(!a.ok)throw Error("Failed to load notifications");let b=await a.json();d(b.notifications??[])}catch(a){h(a instanceof Error?a.message:"Unknown error")}finally{f(!1)}},[]);async function j(a){await fetch("/api/notifications/read",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({notificationId:a})}),i()}async function k(){await fetch("/api/notifications/read-all",{method:"POST"}),i()}return(0,c.useEffect)(()=>{i()},[i]),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-end justify-between gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold tracking-tight",children:"Notifications"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-zinc-600",children:"Alerts and system messages for your workspace."})]}),(0,b.jsx)("button",{onClick:()=>void k(),className:"rounded-lg border border-zinc-200 bg-white px-4 py-2 text-sm font-medium text-zinc-700 hover:bg-zinc-50",children:"Mark all read"})]}),g&&(0,b.jsx)("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:g}),(0,b.jsx)("div",{className:"overflow-hidden rounded-xl border border-zinc-200 bg-white",children:(0,b.jsx)("div",{className:"divide-y divide-zinc-100",children:e?(0,b.jsx)("div",{className:"p-6 text-sm text-zinc-500",children:"Loadingâ€¦"}):0===a.length?(0,b.jsx)("div",{className:"p-6 text-sm text-zinc-500",children:"No notifications."}):a.map(a=>(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4 p-4 hover:bg-zinc-50",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:`text-xs font-medium ${a.readAt?"text-zinc-400":"text-zinc-900"}`,children:a.title}),!a.readAt&&(0,b.jsx)("span",{className:"rounded-full bg-blue-100 px-2 py-0.5 text-xs font-medium text-blue-700",children:"new"}),(0,b.jsx)("span",{className:"rounded-full bg-zinc-100 px-2 py-0.5 text-xs font-medium text-zinc-600",children:a.priority})]}),(0,b.jsx)("p",{className:"mt-1 text-sm text-zinc-600",children:a.message}),(0,b.jsx)("div",{className:"mt-2 text-xs text-zinc-500",children:new Date(a.createdAt).toLocaleString()}),a.actionUrl?(0,b.jsx)("a",{className:"mt-2 inline-block text-sm underline",href:a.actionUrl,children:"View"}):null]}),a.readAt?null:(0,b.jsx)("button",{onClick:()=>void j(a.id),className:"rounded-lg border border-zinc-200 bg-white px-3 py-2 text-sm text-zinc-700 hover:bg-zinc-50",children:"Mark read"})]},a.id))})})]})}a.s(["NotificationsClient",()=>d])}];

//# sourceMappingURL=1c0b7_windsurf-project_apps_frontend_src_app_app_notifications_client_tsx_a0465b67._.js.map