{"version":3,"sources":["../../../../../../../../../../../OneDrive/Desktop/Optiq/CascadeProjects/windsurf-project/apps/frontend/src/app/app/dashboard/dashboard-client.tsx","../../../../../../../../../../../OneDrive/Desktop/Optiq/CascadeProjects/windsurf-project/apps/frontend/src/app/app/dashboard/components/kpi-cards.tsx","../../../../../../../../../../../OneDrive/Desktop/Optiq/CascadeProjects/windsurf-project/apps/frontend/src/app/app/dashboard/components/time-series-chart.tsx","../../../../../../../../../../../OneDrive/Desktop/Optiq/CascadeProjects/windsurf-project/apps/frontend/src/app/app/dashboard/components/campaign-table.tsx","../../../../../../../../../../../OneDrive/Desktop/Optiq/CascadeProjects/windsurf-project/apps/frontend/src/app/app/dashboard/components/dashboard-filters.tsx"],"sourcesContent":["\"use client\";\r\n\r\n/**\r\n * Dashboard Client Component\r\n * \r\n * Interactive dashboard with filters, KPIs, charts, and tables\r\n */\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { KPICards } from \"./components/kpi-cards\";\r\nimport { TimeSeriesChart } from \"./components/time-series-chart\";\r\nimport { CampaignTable } from \"./components/campaign-table\";\r\nimport { DashboardFilters } from \"./components/dashboard-filters\";\r\n\r\nexport function DashboardClient() {\r\n  const [dateRange, setDateRange] = useState<{ from: Date; to: Date }>({\r\n    from: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000), // Last 30 days\r\n    to: new Date(),\r\n  });\r\n  const [platform, setPlatform] = useState<string | null>(null);\r\n  const [attributionModel, setAttributionModel] = useState<string>(\"LAST_TOUCH\");\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <div className=\"bg-white border-b border-gray-200\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\r\n          <h1 className=\"text-3xl font-bold text-gray-900\">Dashboard</h1>\r\n          <p className=\"text-gray-600 mt-1\">Track your marketing performance</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Filters */}\r\n        <DashboardFilters\r\n          dateRange={dateRange}\r\n          platform={platform}\r\n          attributionModel={attributionModel}\r\n          onDateRangeChange={setDateRange}\r\n          onPlatformChange={setPlatform}\r\n          onAttributionModelChange={setAttributionModel}\r\n        />\r\n\r\n        {/* KPI Cards */}\r\n        <div className=\"mt-6\">\r\n          <KPICards\r\n            dateRange={dateRange}\r\n            platform={platform}\r\n            attributionModel={attributionModel}\r\n          />\r\n        </div>\r\n\r\n        {/* Time Series Chart */}\r\n        <div className=\"mt-6\">\r\n          <TimeSeriesChart\r\n            dateRange={dateRange}\r\n            platform={platform}\r\n            attributionModel={attributionModel}\r\n          />\r\n        </div>\r\n\r\n        {/* Campaign Table */}\r\n        <div className=\"mt-6\">\r\n          <CampaignTable\r\n            dateRange={dateRange}\r\n            platform={platform}\r\n            attributionModel={attributionModel}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\n\r\ninterface KPICardsProps {\r\n  dateRange: { from: Date; to: Date };\r\n  platform: string | null;\r\n  attributionModel: string;\r\n}\r\n\r\ninterface KPIData {\r\n  totalSpend: number;\r\n  totalConversions: number;\r\n  avgCpa: number;\r\n  avgRoas: number;\r\n  totalWaste: number;\r\n  wastePct: number;\r\n}\r\n\r\nexport function KPICards({ dateRange, platform, attributionModel }: KPICardsProps) {\r\n  const [data, setData] = useState<KPIData | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchKPIs();\r\n  }, [dateRange, platform, attributionModel]);\r\n\r\n  const fetchKPIs = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const params = new URLSearchParams({\r\n        fromDate: dateRange.from.toISOString(),\r\n        toDate: dateRange.to.toISOString(),\r\n        attributionModel,\r\n        ...(platform ? { platform } : {}),\r\n      });\r\n\r\n      const response = await fetch(`/api/dashboard/kpis?${params}`);\r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        setData(result);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch KPIs:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4\">\r\n        {[...Array(5)].map((_, i) => (\r\n          <div key={i} className=\"bg-white rounded-lg shadow p-6 animate-pulse\">\r\n            <div className=\"h-4 bg-gray-200 rounded w-20 mb-2\"></div>\r\n            <div className=\"h-8 bg-gray-200 rounded w-24\"></div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!data) {\r\n    return null;\r\n  }\r\n\r\n  const cards = [\r\n    {\r\n      label: \"Total Spend\",\r\n      value: `$${(data.totalSpend / 1_000_000).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`,\r\n      icon: \"üí∞\",\r\n      color: \"blue\",\r\n    },\r\n    {\r\n      label: \"Conversions\",\r\n      value: data.totalConversions.toLocaleString(undefined, { maximumFractionDigits: 1 }),\r\n      icon: \"üéØ\",\r\n      color: \"green\",\r\n    },\r\n    {\r\n      label: \"Avg CPA\",\r\n      value: data.avgCpa ? `$${data.avgCpa.toFixed(2)}` : \"N/A\",\r\n      icon: \"üìä\",\r\n      color: \"purple\",\r\n    },\r\n    {\r\n      label: \"Avg ROAS\",\r\n      value: data.avgRoas ? `${data.avgRoas.toFixed(2)}x` : \"N/A\",\r\n      icon: \"üìà\",\r\n      color: \"orange\",\r\n    },\r\n    {\r\n      label: \"Waste Spend\",\r\n      value: `$${(data.totalWaste / 1_000_000).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`,\r\n      subValue: `${data.wastePct.toFixed(1)}% of spend`,\r\n      icon: \"‚ö†Ô∏è\",\r\n      color: \"red\",\r\n    },\r\n  ];\r\n\r\n  const colorClasses = {\r\n    blue: \"from-blue-50 to-blue-100 text-blue-900\",\r\n    green: \"from-green-50 to-green-100 text-green-900\",\r\n    purple: \"from-purple-50 to-purple-100 text-purple-900\",\r\n    orange: \"from-orange-50 to-orange-100 text-orange-900\",\r\n    red: \"from-red-50 to-red-100 text-red-900\",\r\n  };\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4\">\r\n      {cards.map((card, index) => (\r\n        <div\r\n          key={index}\r\n          className={`bg-gradient-to-br ${colorClasses[card.color as keyof typeof colorClasses]} rounded-lg shadow p-6`}\r\n        >\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <p className=\"text-sm font-medium opacity-80\">{card.label}</p>\r\n            <span className=\"text-2xl\">{card.icon}</span>\r\n          </div>\r\n          <p className=\"text-3xl font-bold\">{card.value}</p>\r\n          {card.subValue && (\r\n            <p className=\"text-xs opacity-70 mt-1\">{card.subValue}</p>\r\n          )}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\n\r\ninterface TimeSeriesChartProps {\r\n  dateRange: { from: Date; to: Date };\r\n  platform: string | null;\r\n  attributionModel: string;\r\n}\r\n\r\ninterface ChartDataPoint {\r\n  date: string;\r\n  spend: number;\r\n  conversions: number;\r\n  waste: number;\r\n}\r\n\r\nexport function TimeSeriesChart({ dateRange, platform, attributionModel }: TimeSeriesChartProps) {\r\n  const [data, setData] = useState<ChartDataPoint[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [metric, setMetric] = useState<\"spend\" | \"conversions\" | \"waste\">(\"spend\");\r\n\r\n  useEffect(() => {\r\n    fetchChartData();\r\n  }, [dateRange, platform, attributionModel]);\r\n\r\n  const fetchChartData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const params = new URLSearchParams({\r\n        fromDate: dateRange.from.toISOString(),\r\n        toDate: dateRange.to.toISOString(),\r\n        attributionModel,\r\n        ...(platform ? { platform } : {}),\r\n      });\r\n\r\n      const response = await fetch(`/api/dashboard/time-series?${params}`);\r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        setData(result.data || []);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch chart data:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"bg-white rounded-lg shadow p-6\">\r\n        <div className=\"animate-pulse\">\r\n          <div className=\"h-6 bg-gray-200 rounded w-32 mb-4\"></div>\r\n          <div className=\"h-64 bg-gray-200 rounded\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (data.length === 0) {\r\n    return (\r\n      <div className=\"bg-white rounded-lg shadow p-6\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Performance Over Time</h3>\r\n        <div className=\"text-center py-12 text-gray-500\">\r\n          No data available for the selected period\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Calculate max value for scaling\r\n  const maxValue = Math.max(...data.map(d => {\r\n    if (metric === \"spend\") return d.spend / 1_000_000;\r\n    if (metric === \"conversions\") return d.conversions;\r\n    return d.waste / 1_000_000;\r\n  }));\r\n\r\n  const chartHeight = 256; // 16rem\r\n  const chartWidth = 800;\r\n  const padding = { top: 20, right: 20, bottom: 40, left: 60 };\r\n  const innerWidth = chartWidth - padding.left - padding.right;\r\n  const innerHeight = chartHeight - padding.top - padding.bottom;\r\n\r\n  // Create points for the line\r\n  const points = data.map((d, i) => {\r\n    const x = padding.left + (i / (data.length - 1)) * innerWidth;\r\n    const value = metric === \"spend\" ? d.spend / 1_000_000 : \r\n                  metric === \"conversions\" ? d.conversions : \r\n                  d.waste / 1_000_000;\r\n    const y = padding.top + innerHeight - (value / maxValue) * innerHeight;\r\n    return { x, y, value, date: d.date };\r\n  });\r\n\r\n  const pathData = points.map((p, i) => \r\n    `${i === 0 ? 'M' : 'L'} ${p.x} ${p.y}`\r\n  ).join(' ');\r\n\r\n  // Create area fill\r\n  const areaData = `M ${padding.left} ${padding.top + innerHeight} ` +\r\n    points.map(p => `L ${p.x} ${p.y}`).join(' ') +\r\n    ` L ${padding.left + innerWidth} ${padding.top + innerHeight} Z`;\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow p-6\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900\">Performance Over Time</h3>\r\n        <div className=\"flex gap-2\">\r\n          <button\r\n            onClick={() => setMetric(\"spend\")}\r\n            className={`px-3 py-1 text-sm rounded-lg ${\r\n              metric === \"spend\"\r\n                ? \"bg-blue-600 text-white\"\r\n                : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\r\n            }`}\r\n          >\r\n            Spend\r\n          </button>\r\n          <button\r\n            onClick={() => setMetric(\"conversions\")}\r\n            className={`px-3 py-1 text-sm rounded-lg ${\r\n              metric === \"conversions\"\r\n                ? \"bg-green-600 text-white\"\r\n                : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\r\n            }`}\r\n          >\r\n            Conversions\r\n          </button>\r\n          <button\r\n            onClick={() => setMetric(\"waste\")}\r\n            className={`px-3 py-1 text-sm rounded-lg ${\r\n              metric === \"waste\"\r\n                ? \"bg-red-600 text-white\"\r\n                : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\r\n            }`}\r\n          >\r\n            Waste\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"overflow-x-auto\">\r\n        <svg width={chartWidth} height={chartHeight} className=\"w-full\">\r\n          {/* Grid lines */}\r\n          {[0, 0.25, 0.5, 0.75, 1].map((ratio) => {\r\n            const y = padding.top + innerHeight - ratio * innerHeight;\r\n            return (\r\n              <g key={ratio}>\r\n                <line\r\n                  x1={padding.left}\r\n                  y1={y}\r\n                  x2={padding.left + innerWidth}\r\n                  y2={y}\r\n                  stroke=\"#e5e7eb\"\r\n                  strokeWidth=\"1\"\r\n                />\r\n                <text\r\n                  x={padding.left - 10}\r\n                  y={y + 4}\r\n                  textAnchor=\"end\"\r\n                  fontSize=\"12\"\r\n                  fill=\"#6b7280\"\r\n                >\r\n                  {metric === \"conversions\" \r\n                    ? (maxValue * ratio).toFixed(0)\r\n                    : `$${(maxValue * ratio).toFixed(0)}`\r\n                  }\r\n                </text>\r\n              </g>\r\n            );\r\n          })}\r\n\r\n          {/* Area fill */}\r\n          <path\r\n            d={areaData}\r\n            fill={\r\n              metric === \"spend\" ? \"rgba(59, 130, 246, 0.1)\" :\r\n              metric === \"conversions\" ? \"rgba(34, 197, 94, 0.1)\" :\r\n              \"rgba(239, 68, 68, 0.1)\"\r\n            }\r\n          />\r\n\r\n          {/* Line */}\r\n          <path\r\n            d={pathData}\r\n            fill=\"none\"\r\n            stroke={\r\n              metric === \"spend\" ? \"#3b82f6\" :\r\n              metric === \"conversions\" ? \"#22c55e\" :\r\n              \"#ef4444\"\r\n            }\r\n            strokeWidth=\"2\"\r\n          />\r\n\r\n          {/* Points */}\r\n          {points.map((point, i) => (\r\n            <g key={i}>\r\n              <circle\r\n                cx={point.x}\r\n                cy={point.y}\r\n                r=\"4\"\r\n                fill={\r\n                  metric === \"spend\" ? \"#3b82f6\" :\r\n                  metric === \"conversions\" ? \"#22c55e\" :\r\n                  \"#ef4444\"\r\n                }\r\n              />\r\n              <title>\r\n                {point.date}: {\r\n                  metric === \"conversions\" \r\n                    ? point.value.toFixed(1)\r\n                    : `$${point.value.toFixed(2)}`\r\n                }\r\n              </title>\r\n            </g>\r\n          ))}\r\n\r\n          {/* X-axis labels */}\r\n          {points.filter((_, i) => i % Math.ceil(points.length / 7) === 0).map((point, i) => (\r\n            <text\r\n              key={i}\r\n              x={point.x}\r\n              y={padding.top + innerHeight + 20}\r\n              textAnchor=\"middle\"\r\n              fontSize=\"12\"\r\n              fill=\"#6b7280\"\r\n            >\r\n              {new Date(point.date).toLocaleDateString(undefined, { month: 'short', day: 'numeric' })}\r\n            </text>\r\n          ))}\r\n        </svg>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\n\r\ninterface CampaignTableProps {\r\n  dateRange: { from: Date; to: Date };\r\n  platform: string | null;\r\n  attributionModel: string;\r\n}\r\n\r\ninterface CampaignRow {\r\n  id: string;\r\n  grain: string;\r\n  name: string;\r\n  platformName: string;\r\n  spend: number;\r\n  conversions: number;\r\n  cpa: number | null;\r\n  roas: number | null;\r\n  waste: number;\r\n  wastePct: number;\r\n}\r\n\r\nexport function CampaignTable({ dateRange, platform, attributionModel }: CampaignTableProps) {\r\n  const [data, setData] = useState<CampaignRow[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [grain, setGrain] = useState<\"CAMPAIGN\" | \"ADSET\" | \"AD\">(\"CAMPAIGN\");\r\n  const [sortBy, setSortBy] = useState<\"spend\" | \"waste\" | \"cpa\" | \"roas\">(\"waste\");\r\n  const [sortOrder, setSortOrder] = useState<\"asc\" | \"desc\">(\"desc\");\r\n\r\n  useEffect(() => {\r\n    fetchTableData();\r\n  }, [dateRange, platform, attributionModel, grain]);\r\n\r\n  const fetchTableData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const params = new URLSearchParams({\r\n        fromDate: dateRange.from.toISOString(),\r\n        toDate: dateRange.to.toISOString(),\r\n        attributionModel,\r\n        grain,\r\n        ...(platform ? { platform } : {}),\r\n      });\r\n\r\n      const response = await fetch(`/api/dashboard/campaigns?${params}`);\r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        setData(result.data || []);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch campaign data:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSort = (column: typeof sortBy) => {\r\n    if (sortBy === column) {\r\n      setSortOrder(sortOrder === \"asc\" ? \"desc\" : \"asc\");\r\n    } else {\r\n      setSortBy(column);\r\n      setSortOrder(\"desc\");\r\n    }\r\n  };\r\n\r\n  const sortedData = [...data].sort((a, b) => {\r\n    let aVal = 0, bVal = 0;\r\n    \r\n    switch (sortBy) {\r\n      case \"spend\":\r\n        aVal = a.spend;\r\n        bVal = b.spend;\r\n        break;\r\n      case \"waste\":\r\n        aVal = a.waste;\r\n        bVal = b.waste;\r\n        break;\r\n      case \"cpa\":\r\n        aVal = a.cpa || Infinity;\r\n        bVal = b.cpa || Infinity;\r\n        break;\r\n      case \"roas\":\r\n        aVal = a.roas || 0;\r\n        bVal = b.roas || 0;\r\n        break;\r\n    }\r\n\r\n    return sortOrder === \"asc\" ? aVal - bVal : bVal - aVal;\r\n  });\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"bg-white rounded-lg shadow p-6\">\r\n        <div className=\"animate-pulse\">\r\n          <div className=\"h-6 bg-gray-200 rounded w-32 mb-4\"></div>\r\n          <div className=\"space-y-3\">\r\n            {[...Array(5)].map((_, i) => (\r\n              <div key={i} className=\"h-12 bg-gray-200 rounded\"></div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow\">\r\n      <div className=\"p-6 border-b border-gray-200\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900\">Performance by {grain}</h3>\r\n          <div className=\"flex gap-2\">\r\n            <button\r\n              onClick={() => setGrain(\"CAMPAIGN\")}\r\n              className={`px-3 py-1 text-sm rounded-lg ${\r\n                grain === \"CAMPAIGN\"\r\n                  ? \"bg-blue-600 text-white\"\r\n                  : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\r\n              }`}\r\n            >\r\n              Campaign\r\n            </button>\r\n            <button\r\n              onClick={() => setGrain(\"ADSET\")}\r\n              className={`px-3 py-1 text-sm rounded-lg ${\r\n                grain === \"ADSET\"\r\n                  ? \"bg-blue-600 text-white\"\r\n                  : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\r\n              }`}\r\n            >\r\n              Ad Set\r\n            </button>\r\n            <button\r\n              onClick={() => setGrain(\"AD\")}\r\n              className={`px-3 py-1 text-sm rounded-lg ${\r\n                grain === \"AD\"\r\n                  ? \"bg-blue-600 text-white\"\r\n                  : \"bg-gray-100 text-gray-700 hover:bg-gray-200\"\r\n              }`}\r\n            >\r\n              Ad\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"overflow-x-auto\">\r\n        <table className=\"w-full\">\r\n          <thead className=\"bg-gray-50 border-b border-gray-200\">\r\n            <tr>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                Name\r\n              </th>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                Platform\r\n              </th>\r\n              <th\r\n                className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:text-gray-700\"\r\n                onClick={() => handleSort(\"spend\")}\r\n              >\r\n                Spend {sortBy === \"spend\" && (sortOrder === \"asc\" ? \"‚Üë\" : \"‚Üì\")}\r\n              </th>\r\n              <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                Conversions\r\n              </th>\r\n              <th\r\n                className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:text-gray-700\"\r\n                onClick={() => handleSort(\"cpa\")}\r\n              >\r\n                CPA {sortBy === \"cpa\" && (sortOrder === \"asc\" ? \"‚Üë\" : \"‚Üì\")}\r\n              </th>\r\n              <th\r\n                className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:text-gray-700\"\r\n                onClick={() => handleSort(\"roas\")}\r\n              >\r\n                ROAS {sortBy === \"roas\" && (sortOrder === \"asc\" ? \"‚Üë\" : \"‚Üì\")}\r\n              </th>\r\n              <th\r\n                className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:text-gray-700\"\r\n                onClick={() => handleSort(\"waste\")}\r\n              >\r\n                Waste {sortBy === \"waste\" && (sortOrder === \"asc\" ? \"‚Üë\" : \"‚Üì\")}\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n            {sortedData.length === 0 ? (\r\n              <tr>\r\n                <td colSpan={7} className=\"px-6 py-12 text-center text-gray-500\">\r\n                  No data available for the selected period\r\n                </td>\r\n              </tr>\r\n            ) : (\r\n              sortedData.map((row) => {\r\n                const wasteLevel = row.wastePct > 75 ? \"high\" : row.wastePct > 50 ? \"medium\" : row.wastePct > 25 ? \"low\" : \"none\";\r\n                \r\n                return (\r\n                  <tr\r\n                    key={row.id}\r\n                    className={`hover:bg-gray-50 ${\r\n                      wasteLevel === \"high\" ? \"bg-red-50\" :\r\n                      wasteLevel === \"medium\" ? \"bg-orange-50\" :\r\n                      wasteLevel === \"low\" ? \"bg-yellow-50\" :\r\n                      \"\"\r\n                    }`}\r\n                  >\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"text-sm font-medium text-gray-900\">{row.name}</div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"text-sm text-gray-500\">{row.platformName}</div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-right\">\r\n                      <div className=\"text-sm text-gray-900\">\r\n                        ${(row.spend / 1_000_000).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-right\">\r\n                      <div className=\"text-sm text-gray-900\">\r\n                        {row.conversions.toLocaleString(undefined, { maximumFractionDigits: 1 })}\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-right\">\r\n                      <div className=\"text-sm text-gray-900\">\r\n                        {row.cpa ? `$${row.cpa.toFixed(2)}` : \"N/A\"}\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-right\">\r\n                      <div className=\"text-sm text-gray-900\">\r\n                        {row.roas ? `${row.roas.toFixed(2)}x` : \"N/A\"}\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-right\">\r\n                      <div className=\"flex items-center justify-end gap-2\">\r\n                        <div className=\"text-sm font-medium text-gray-900\">\r\n                          ${(row.waste / 1_000_000).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                        </div>\r\n                        {wasteLevel !== \"none\" && (\r\n                          <span\r\n                            className={`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${\r\n                              wasteLevel === \"high\" ? \"bg-red-100 text-red-800\" :\r\n                              wasteLevel === \"medium\" ? \"bg-orange-100 text-orange-800\" :\r\n                              \"bg-yellow-100 text-yellow-800\"\r\n                            }`}\r\n                          >\r\n                            {row.wastePct.toFixed(0)}%\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport { useState } from \"react\";\r\n\r\ninterface DashboardFiltersProps {\r\n  dateRange: { from: Date; to: Date };\r\n  platform: string | null;\r\n  attributionModel: string;\r\n  onDateRangeChange: (range: { from: Date; to: Date }) => void;\r\n  onPlatformChange: (platform: string | null) => void;\r\n  onAttributionModelChange: (model: string) => void;\r\n}\r\n\r\nconst PLATFORMS = [\r\n  { value: null, label: \"All Platforms\" },\r\n  { value: \"META_ADS\", label: \"Meta Ads\" },\r\n  { value: \"GOOGLE_ADS\", label: \"Google Ads\" },\r\n  { value: \"TIKTOK_ADS\", label: \"TikTok Ads\" },\r\n];\r\n\r\nconst ATTRIBUTION_MODELS = [\r\n  { value: \"LAST_TOUCH\", label: \"Last Touch\" },\r\n  { value: \"FIRST_TOUCH\", label: \"First Touch\" },\r\n  { value: \"LINEAR\", label: \"Linear\" },\r\n  { value: \"TIME_DECAY\", label: \"Time Decay\" },\r\n  { value: \"POSITION_BASED\", label: \"Position Based\" },\r\n];\r\n\r\nconst QUICK_RANGES = [\r\n  { label: \"Last 7 days\", days: 7 },\r\n  { label: \"Last 30 days\", days: 30 },\r\n  { label: \"Last 90 days\", days: 90 },\r\n];\r\n\r\nexport function DashboardFilters({\r\n  dateRange,\r\n  platform,\r\n  attributionModel,\r\n  onDateRangeChange,\r\n  onPlatformChange,\r\n  onAttributionModelChange,\r\n}: DashboardFiltersProps) {\r\n  const [showCustomRange, setShowCustomRange] = useState(false);\r\n\r\n  const handleQuickRange = (days: number) => {\r\n    const to = new Date();\r\n    const from = new Date(Date.now() - days * 24 * 60 * 60 * 1000);\r\n    onDateRangeChange({ from, to });\r\n    setShowCustomRange(false);\r\n  };\r\n\r\n  const formatDate = (date: Date) => {\r\n    return date.toISOString().split(\"T\")[0];\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow p-4\">\r\n      <div className=\"flex flex-wrap items-center gap-4\">\r\n        {/* Date Range */}\r\n        <div className=\"flex-1 min-w-[200px]\">\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Date Range\r\n          </label>\r\n          <div className=\"flex gap-2\">\r\n            {QUICK_RANGES.map((range) => (\r\n              <button\r\n                key={range.days}\r\n                onClick={() => handleQuickRange(range.days)}\r\n                className=\"px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50\"\r\n              >\r\n                {range.label}\r\n              </button>\r\n            ))}\r\n            <button\r\n              onClick={() => setShowCustomRange(!showCustomRange)}\r\n              className=\"px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50\"\r\n            >\r\n              Custom\r\n            </button>\r\n          </div>\r\n          {showCustomRange && (\r\n            <div className=\"mt-2 flex gap-2\">\r\n              <input\r\n                type=\"date\"\r\n                value={formatDate(dateRange.from)}\r\n                onChange={(e) =>\r\n                  onDateRangeChange({\r\n                    from: new Date(e.target.value),\r\n                    to: dateRange.to,\r\n                  })\r\n                }\r\n                className=\"px-3 py-2 text-sm border border-gray-300 rounded-lg\"\r\n              />\r\n              <span className=\"self-center text-gray-500\">to</span>\r\n              <input\r\n                type=\"date\"\r\n                value={formatDate(dateRange.to)}\r\n                onChange={(e) =>\r\n                  onDateRangeChange({\r\n                    from: dateRange.from,\r\n                    to: new Date(e.target.value),\r\n                  })\r\n                }\r\n                className=\"px-3 py-2 text-sm border border-gray-300 rounded-lg\"\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Platform Filter */}\r\n        <div className=\"w-48\">\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Platform\r\n          </label>\r\n          <select\r\n            value={platform || \"\"}\r\n            onChange={(e) => onPlatformChange(e.target.value || null)}\r\n            className=\"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n          >\r\n            {PLATFORMS.map((p) => (\r\n              <option key={p.value || \"all\"} value={p.value || \"\"}>\r\n                {p.label}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        {/* Attribution Model */}\r\n        <div className=\"w-48\">\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n            Attribution Model\r\n          </label>\r\n          <select\r\n            value={attributionModel}\r\n            onChange={(e) => onAttributionModelChange(e.target.value)}\r\n            className=\"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\r\n          >\r\n            {ATTRIBUTION_MODELS.map((m) => (\r\n              <option key={m.value} value={m.value}>\r\n                {m.label}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}