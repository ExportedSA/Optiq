module.exports=[9524,a=>{"use strict";var b=a.i(30091),c=a.i(51729),d=a.i(46277);let e=[{key:"name",label:"Campaign",sortable:!0,align:"left",format:(a,c)=>(0,b.jsxs)("div",{children:[(0,b.jsx)(d.default,{href:`/app/campaigns/${c.id}`,className:"font-medium text-zinc-900 hover:text-zinc-700 hover:underline",children:c.name}),(0,b.jsx)("div",{className:"text-xs text-zinc-500",children:c.externalId})]})},{key:"platform",label:"Platform",sortable:!0,align:"left",format:(a,c)=>(0,b.jsxs)("span",{className:"inline-flex items-center gap-1.5",children:[(0,b.jsx)(k,{code:c.platformCode}),(0,b.jsx)("span",{children:c.platformName})]})},{key:"spend",label:"Spend",sortable:!0,align:"right",format:a=>f(a)},{key:"conversions",label:"Conv.",sortable:!0,align:"right",format:a=>g(a)},{key:"cpa",label:"CPA",sortable:!0,align:"right",format:a=>null!=a?f(a):"—"},{key:"roas",label:"ROAS",sortable:!0,align:"right",format:a=>null!=a?`${a.toFixed(2)}x`:"—"},{key:"impressions",label:"Impr.",sortable:!0,align:"right",format:a=>g(a)},{key:"clicks",label:"Clicks",sortable:!0,align:"right",format:a=>g(a)},{key:"ctr",label:"CTR",sortable:!0,align:"right",format:a=>null!=a?`${a.toFixed(2)}%`:"—"},{key:"actions",label:"",sortable:!1,align:"center",format:(a,c)=>(0,b.jsx)(d.default,{href:`/app/campaigns/${c.id}`,className:"text-zinc-500 hover:text-zinc-700",title:"View details",children:(0,b.jsx)(j,{})})}];function f(a){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(a)}function g(a){return new Intl.NumberFormat("en-US").format(a)}function h({data:a,initialSort:d={field:"spend",direction:"desc"},onSortChange:f}){let[g,h]=(0,c.useState)(d),j=(0,c.useMemo)(()=>f?a:[...a].sort((a,b)=>{let c=a[g.field],d=b[g.field];return null==c?1:null==d?-1:"string"==typeof c&&"string"==typeof d?"asc"===g.direction?c.localeCompare(d):d.localeCompare(c):"number"==typeof c&&"number"==typeof d?"asc"===g.direction?c-d:d-c:0}),[a,g,f]);return 0===a.length?(0,b.jsx)("div",{className:"rounded-xl border border-zinc-200 bg-white p-12 text-center",children:(0,b.jsx)("p",{className:"text-sm text-zinc-500",children:"No campaigns found"})}):(0,b.jsx)("div",{className:"overflow-hidden rounded-xl border border-zinc-200 bg-white",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsx)("tr",{className:"border-b border-zinc-200 bg-zinc-50",children:e.map(a=>(0,b.jsx)("th",{className:`px-4 py-3 font-medium text-zinc-600 ${"right"===a.align?"text-right":"center"===a.align?"text-center":"text-left"} ${a.sortable?"cursor-pointer select-none hover:bg-zinc-100":""}`,onClick:()=>{var b;let c;return a.sortable&&"actions"!==a.key&&void(h(c={field:b=a.key,direction:g.field===b&&"asc"===g.direction?"desc":"asc"}),f?.(c))},children:(0,b.jsxs)("span",{className:"inline-flex items-center gap-1",children:[a.label,a.sortable&&"actions"!==a.key&&(0,b.jsx)(i,{active:g.field===a.key,direction:g.field===a.key?g.direction:void 0})]})},a.key))})}),(0,b.jsx)("tbody",{children:j.map(a=>(0,b.jsx)("tr",{className:`border-b border-zinc-100 transition-colors hover:bg-zinc-50 ${function(a){switch(a){case"critical":return"bg-red-50 border-l-4 border-l-red-500";case"high":return"bg-orange-50 border-l-4 border-l-orange-500";case"medium":return"bg-yellow-50 border-l-4 border-l-yellow-500";case"low":return"bg-amber-50 border-l-4 border-l-amber-400";default:return""}}(a.wasteLevel)}`,children:e.map(c=>(0,b.jsx)("td",{className:`px-4 py-3 ${"right"===c.align?"text-right":"center"===c.align?"text-center":"text-left"}`,children:c.format?c.format(a[c.key],a):String(a[c.key]??"")},c.key))},a.id))})]})})})}function i({active:a,direction:c}){return(0,b.jsx)("svg",{className:`h-4 w-4 ${a?"text-zinc-900":"text-zinc-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:"asc"===c?(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"}):"desc"===c?(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"}):(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})})}function j(){return(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}function k({code:a}){return(0,b.jsx)("span",{className:`inline-flex h-5 w-5 items-center justify-center rounded text-xs font-bold text-white ${{GOOGLE_ADS:"bg-blue-500",META:"bg-indigo-500",TIKTOK:"bg-pink-500",LINKEDIN:"bg-sky-600"}[a]??"bg-zinc-500"}`,children:{GOOGLE_ADS:"G",META:"M",TIKTOK:"T",LINKEDIN:"L"}[a]??"?"})}function l({platforms:a,selectedPlatforms:d,onPlatformChange:e,search:f,onSearchChange:g}){let[h,i]=(0,c.useState)(!1),j=a=>{d.includes(a)?e(d.filter(b=>b!==a)):e([...d,a])};return(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,b.jsxs)("div",{className:"relative flex-1 sm:max-w-xs",children:[(0,b.jsx)(m,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-zinc-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search campaigns...",value:f,onChange:a=>g(a.target.value),className:"w-full rounded-lg border border-zinc-200 py-2 pl-9 pr-3 text-sm outline-none focus:border-zinc-400"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("button",{onClick:()=>i(!h),className:"inline-flex items-center gap-2 rounded-lg border border-zinc-200 bg-white px-3 py-2 text-sm font-medium text-zinc-700 hover:bg-zinc-50",children:[(0,b.jsx)(n,{className:"h-4 w-4"}),"Platform",d.length>0&&(0,b.jsx)("span",{className:"rounded-full bg-zinc-900 px-1.5 py-0.5 text-xs text-white",children:d.length}),(0,b.jsx)(o,{className:"h-4 w-4"})]}),h&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1)}),(0,b.jsx)("div",{className:"absolute left-0 z-20 mt-2 w-56 rounded-lg border border-zinc-200 bg-white py-1 shadow-lg",children:a.length>0?(0,b.jsxs)(b.Fragment,{children:[a.map(a=>(0,b.jsxs)("label",{className:"flex cursor-pointer items-center gap-3 px-4 py-2 hover:bg-zinc-50",children:[(0,b.jsx)("input",{type:"checkbox",checked:d.includes(a.code),onChange:()=>j(a.code),className:"h-4 w-4 rounded border-zinc-300"}),(0,b.jsx)("span",{className:"flex-1 text-sm text-zinc-700",children:a.name}),(0,b.jsx)("span",{className:"text-xs text-zinc-500",children:a.count})]},a.code)),d.length>0&&(0,b.jsx)("div",{className:"border-t border-zinc-100 px-4 py-2",children:(0,b.jsx)("button",{onClick:()=>{e([])},className:"text-sm text-zinc-600 hover:text-zinc-900",children:"Clear all"})})]}):(0,b.jsx)("p",{className:"px-4 py-2 text-sm text-zinc-500",children:"No platforms"})})]})]}),d.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:d.map(c=>{let d=a.find(a=>a.code===c);return(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full bg-zinc-100 px-2.5 py-1 text-xs font-medium text-zinc-700",children:[d?.name??c,(0,b.jsx)("button",{onClick:()=>j(c),className:"ml-0.5 text-zinc-500 hover:text-zinc-700",children:(0,b.jsx)(p,{className:"h-3 w-3"})})]},c)})})]})}function m({className:a}){return(0,b.jsx)("svg",{className:a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}function n({className:a}){return(0,b.jsx)("svg",{className:a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})}function o({className:a}){return(0,b.jsx)("svg",{className:a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}function p({className:a}){return(0,b.jsx)("svg",{className:a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}function q({initialData:a,platforms:d,total:e}){let[f,g]=(0,c.useState)(""),[i,j]=(0,c.useState)([]),k=(0,c.useMemo)(()=>{let b=a;if(i.length>0&&(b=b.filter(a=>i.includes(a.platformCode))),f.trim()){let a=f.toLowerCase();b=b.filter(b=>b.name.toLowerCase().includes(a)||b.externalId.toLowerCase().includes(a))}return b},[a,i,f]),m=(0,c.useMemo)(()=>{let a=k.filter(a=>"none"!==a.wasteLevel),b=a.reduce((a,b)=>a+b.wastedSpend,0);return{count:a.length,totalWasted:b}},[k]);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold tracking-tight",children:"Campaigns"}),(0,b.jsxs)("p",{className:"mt-1 text-sm text-zinc-600",children:[k.length," of ",e," campaigns",m.count>0&&(0,b.jsxs)("span",{className:"ml-2 text-amber-600",children:["• ",m.count," with waste alerts ($",m.totalWasted.toFixed(2),")"]})]})]})}),(0,b.jsx)(l,{platforms:d,selectedPlatforms:i,onPlatformChange:j,search:f,onSearchChange:g}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 text-xs text-zinc-500",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,b.jsx)("span",{className:"h-3 w-1 rounded-full bg-red-500"}),"Critical waste"]}),(0,b.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,b.jsx)("span",{className:"h-3 w-1 rounded-full bg-orange-500"}),"High waste"]}),(0,b.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,b.jsx)("span",{className:"h-3 w-1 rounded-full bg-yellow-500"}),"Medium waste"]}),(0,b.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,b.jsx)("span",{className:"h-3 w-1 rounded-full bg-amber-400"}),"Low waste"]})]}),(0,b.jsx)(h,{data:k})]})]})}a.s(["CampaignsPageClient",()=>q],9524)}];

//# sourceMappingURL=1c0b7_windsurf-project_apps_frontend_src_app_app_campaigns_client_tsx_16220d6c._.js.map