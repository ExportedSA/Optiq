module.exports=[30730,a=>{"use strict";var b=a.i(95792);let c=(0,b.registerClientReference)(function(){throw Error("Attempted to call KpiCard() from the server but KpiCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/OneDrive/Desktop/Optiq/CascadeProjects/windsurf-project/apps/frontend/src/components/dashboard/kpi-card.tsx <module evaluation>","KpiCard"),d=(0,b.registerClientReference)(function(){throw Error("Attempted to call KpiCardGrid() from the server but KpiCardGrid is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/OneDrive/Desktop/Optiq/CascadeProjects/windsurf-project/apps/frontend/src/components/dashboard/kpi-card.tsx <module evaluation>","KpiCardGrid");a.s(["KpiCard",0,c,"KpiCardGrid",0,d])},66747,a=>{"use strict";var b=a.i(95792);let c=(0,b.registerClientReference)(function(){throw Error("Attempted to call KpiCard() from the server but KpiCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/OneDrive/Desktop/Optiq/CascadeProjects/windsurf-project/apps/frontend/src/components/dashboard/kpi-card.tsx","KpiCard"),d=(0,b.registerClientReference)(function(){throw Error("Attempted to call KpiCardGrid() from the server but KpiCardGrid is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/OneDrive/Desktop/Optiq/CascadeProjects/windsurf-project/apps/frontend/src/components/dashboard/kpi-card.tsx","KpiCardGrid");a.s(["KpiCard",0,c,"KpiCardGrid",0,d])},36437,a=>{"use strict";a.i(30730);var b=a.i(66747);a.n(b)},85485,a=>{"use strict";var b=a.i(95792);let c=(0,b.registerClientReference)(function(){throw Error("Attempted to call TimeseriesChart() from the server but TimeseriesChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/OneDrive/Desktop/Optiq/CascadeProjects/windsurf-project/apps/frontend/src/components/dashboard/timeseries-chart.tsx <module evaluation>","TimeseriesChart"),d=(0,b.registerClientReference)(function(){throw Error("Attempted to call TimeseriesChartCard() from the server but TimeseriesChartCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/OneDrive/Desktop/Optiq/CascadeProjects/windsurf-project/apps/frontend/src/components/dashboard/timeseries-chart.tsx <module evaluation>","TimeseriesChartCard");a.s(["TimeseriesChart",0,c,"TimeseriesChartCard",0,d])},96268,a=>{"use strict";var b=a.i(95792);let c=(0,b.registerClientReference)(function(){throw Error("Attempted to call TimeseriesChart() from the server but TimeseriesChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/OneDrive/Desktop/Optiq/CascadeProjects/windsurf-project/apps/frontend/src/components/dashboard/timeseries-chart.tsx","TimeseriesChart"),d=(0,b.registerClientReference)(function(){throw Error("Attempted to call TimeseriesChartCard() from the server but TimeseriesChartCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/OneDrive/Desktop/Optiq/CascadeProjects/windsurf-project/apps/frontend/src/components/dashboard/timeseries-chart.tsx","TimeseriesChartCard");a.s(["TimeseriesChart",0,c,"TimeseriesChartCard",0,d])},35405,a=>{"use strict";a.i(85485);var b=a.i(96268);a.n(b)},38279,a=>{"use strict";let b=(0,a.i(95792).registerClientReference)(function(){throw Error("Attempted to call BreakdownTable() from the server but BreakdownTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/OneDrive/Desktop/Optiq/CascadeProjects/windsurf-project/apps/frontend/src/components/dashboard/breakdown-table.tsx <module evaluation>","BreakdownTable");a.s(["BreakdownTable",0,b])},92338,a=>{"use strict";let b=(0,a.i(95792).registerClientReference)(function(){throw Error("Attempted to call BreakdownTable() from the server but BreakdownTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/OneDrive/Desktop/Optiq/CascadeProjects/windsurf-project/apps/frontend/src/components/dashboard/breakdown-table.tsx","BreakdownTable");a.s(["BreakdownTable",0,b])},22445,a=>{"use strict";a.i(38279);var b=a.i(92338);a.n(b)},16873,a=>{"use strict";var b=a.i(95792);let c=(0,b.registerClientReference)(function(){throw Error("Attempted to call DashboardFilters() from the server but DashboardFilters is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/OneDrive/Desktop/Optiq/CascadeProjects/windsurf-project/apps/frontend/src/components/dashboard/filters.tsx <module evaluation>","DashboardFilters"),d=(0,b.registerClientReference)(function(){throw Error("Attempted to call getDefaultFilters() from the server but getDefaultFilters is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/OneDrive/Desktop/Optiq/CascadeProjects/windsurf-project/apps/frontend/src/components/dashboard/filters.tsx <module evaluation>","getDefaultFilters");a.s(["DashboardFilters",0,c,"getDefaultFilters",0,d])},93083,a=>{"use strict";var b=a.i(95792);let c=(0,b.registerClientReference)(function(){throw Error("Attempted to call DashboardFilters() from the server but DashboardFilters is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/OneDrive/Desktop/Optiq/CascadeProjects/windsurf-project/apps/frontend/src/components/dashboard/filters.tsx","DashboardFilters"),d=(0,b.registerClientReference)(function(){throw Error("Attempted to call getDefaultFilters() from the server but getDefaultFilters is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/OneDrive/Desktop/Optiq/CascadeProjects/windsurf-project/apps/frontend/src/components/dashboard/filters.tsx","getDefaultFilters");a.s(["DashboardFilters",0,c,"getDefaultFilters",0,d])},99140,a=>{"use strict";a.i(16873);var b=a.i(93083);a.n(b)},97263,a=>{"use strict";var b=a.i(48020),c=a.i(55020),d=a.i(48425);a.i(36822);var e=a.i(10701);function f(a){return Number(a)/1e6}function g(a,b){let c=Number(a.impressions),d=Number(a.clicks),e=f(a.spendMicros),g=Number(a.conversions),h=f(a.revenueMicros),i=g>0?e/g:null,j=0,k=e;if(0===g&&e>0)j=e,k=0;else if(b&&g>0&&null!==i){let a=f(b);i>a&&(j=e-a*g,k=a*g)}let l=e>0?j/e*100:0;return{impressions:c,clicks:d,spend:e,conversions:g,revenue:h,ctr:c>0?d/c*100:null,cpc:d>0?e/d:null,cpa:i,roas:e>0?h/e:null,conversionRate:d>0?g/d*100:null,wastedSpend:j,wastePercent:l,efficientSpend:k}}function h(a,b){let c=new Date(a);switch(b){case"day":{let a=new Date(c.getFullYear(),c.getMonth(),c.getDate()),b=new Date(a);return b.setDate(b.getDate()+1),b.setMilliseconds(-1),{start:a,end:b,label:a.toISOString().split("T")[0]}}case"week":{let a=c.getDay(),b=c.getDate()-a+(0===a?-6:1),d=new Date(c.getFullYear(),c.getMonth(),b),e=new Date(d);e.setDate(e.getDate()+7),e.setMilliseconds(-1);let f=Math.ceil(((d.getTime()-new Date(d.getFullYear(),0,1).getTime())/864e5+1)/7);return{start:d,end:e,label:`${d.getFullYear()}-W${String(f).padStart(2,"0")}`}}case"month":{let a=new Date(c.getFullYear(),c.getMonth(),1);return{start:a,end:new Date(c.getFullYear(),c.getMonth()+1,0,23,59,59,999),label:`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}`}}case"quarter":{let a=Math.floor(c.getMonth()/3),b=new Date(c.getFullYear(),3*a,1);return{start:b,end:new Date(c.getFullYear(),3*a+3,0,23,59,59,999),label:`${b.getFullYear()}-Q${a+1}`}}case"year":return{start:new Date(c.getFullYear(),0,1),end:new Date(c.getFullYear(),11,31,23,59,59,999),label:String(c.getFullYear())}}}let i=new Map,j=new class{ttlMs;constructor(a={}){this.ttlMs=a.ttlMs??3e5}get(a){let b=i.get(a);return b?new Date>b.expiresAt?(i.delete(a),null):b.data:null}set(a,b,c){let d=new Date,e=new Date(d.getTime()+(c??this.ttlMs));i.set(a,{key:a,data:b,computedAt:d,expiresAt:e})}invalidate(a){return i.delete(a)}invalidatePattern(a){let b=0,c=new RegExp(a.replace(/\*/g,".*"));for(let a of i.keys())c.test(a)&&(i.delete(a),b++);return b}invalidateOrganization(a){return this.invalidatePattern(`metrics:${a}:.*`)}clear(){i.clear()}size(){return i.size}prune(){let a=new Date,b=0;for(let[c,d]of i.entries())a>d.expiresAt&&(i.delete(c),b++);return b}getStats(){let a=null,b=null;for(let c of i.values())(!a||c.computedAt<a)&&(a=c.computedAt),(!b||c.computedAt>b)&&(b=c.computedAt);return{size:i.size,keys:Array.from(i.keys()),oldestEntry:a,newestEntry:b}}},k=BigInt(25e6),l=new class{config;cache;constructor(a={}){this.config={targetCpaMicros:a.targetCpaMicros??k,useCache:a.useCache??!0,cacheTtlMs:a.cacheTtlMs??3e5},this.cache=j}async aggregateByPeriod(a){var b;let c,d=(b={organizationId:a.filter.organizationId,entityLevel:a.entityLevel,entityId:null,granularity:a.granularity,dateRange:a.filter.dateRange},c=`${b.dateRange.start.toISOString().split("T")[0]}_${b.dateRange.end.toISOString().split("T")[0]}`,`metrics:${b.organizationId}:${b.entityLevel}:${b.entityId??"all"}:${b.granularity}:${c}`);if(this.config.useCache){let a=this.cache.get(d);if(a)return a}let e=await this.queryMetrics(a);return this.config.useCache&&this.cache.set(d,e,this.config.cacheTtlMs),e}async queryMetrics(a){let{filter:b,granularity:c,entityLevel:d}=a;switch(d){case"organization":return this.aggregateOrganization(b,c);case"platform":return this.aggregateByPlatform(b,c);case"ad_account":return this.aggregateByAdAccount(b,c);case"campaign":return this.aggregateByCampaign(b,c);case"ad":return this.aggregateByAd(b,c);default:return[]}}async aggregateOrganization(a,b){let c=await e.prisma.dailyAdAccountMetric.findMany({where:{organizationId:a.organizationId,date:{gte:a.dateRange.start,lte:a.dateRange.end},...a.platformCodes?.length?{platform:{code:{in:a.platformCodes}}}:{}},select:{date:!0,impressions:!0,clicks:!0,spendMicros:!0,conversions:!0,revenueMicros:!0}});return this.groupByPeriod(c,b,{entityLevel:"organization",entityId:a.organizationId,entityName:"Organization Total",platformCode:null})}async aggregateByPlatform(a,b){let c=await e.prisma.dailyAdAccountMetric.findMany({where:{organizationId:a.organizationId,date:{gte:a.dateRange.start,lte:a.dateRange.end},...a.platformCodes?.length?{platform:{code:{in:a.platformCodes}}}:{}},select:{date:!0,impressions:!0,clicks:!0,spendMicros:!0,conversions:!0,revenueMicros:!0,platform:{select:{code:!0,name:!0}}}}),d=new Map;for(let a of c){let b=a.platform.code;d.has(b)||d.set(b,[]),d.get(b).push(a)}let f=[];for(let[a,c]of d){let d=c[0]?.platform.name??a,e=this.groupByPeriod(c,b,{entityLevel:"platform",entityId:a,entityName:d,platformCode:a});f.push(...e)}return f.sort((a,b)=>a.periodStart.getTime()-b.periodStart.getTime())}async aggregateByAdAccount(a,b){let c=await e.prisma.dailyAdAccountMetric.findMany({where:{organizationId:a.organizationId,date:{gte:a.dateRange.start,lte:a.dateRange.end},...a.adAccountIds?.length?{adAccountId:{in:a.adAccountIds}}:{},...a.platformCodes?.length?{platform:{code:{in:a.platformCodes}}}:{}},select:{date:!0,adAccountId:!0,impressions:!0,clicks:!0,spendMicros:!0,conversions:!0,revenueMicros:!0,adAccount:{select:{name:!0}},platform:{select:{code:!0}}}}),d=new Map;for(let a of c)d.has(a.adAccountId)||d.set(a.adAccountId,[]),d.get(a.adAccountId).push(a);let f=[];for(let[a,c]of d){let d=c[0]?.adAccount.name??a,e=c[0]?.platform.code??null,g=this.groupByPeriod(c,b,{entityLevel:"ad_account",entityId:a,entityName:d,platformCode:e});f.push(...g)}return f.sort((a,b)=>a.periodStart.getTime()-b.periodStart.getTime())}async aggregateByCampaign(a,b){let c=await e.prisma.dailyCampaignMetric.findMany({where:{organizationId:a.organizationId,date:{gte:a.dateRange.start,lte:a.dateRange.end},...a.campaignIds?.length?{campaignId:{in:a.campaignIds}}:{},...a.adAccountIds?.length?{adAccountId:{in:a.adAccountIds}}:{},...a.platformCodes?.length?{platform:{code:{in:a.platformCodes}}}:{}},select:{date:!0,campaignId:!0,impressions:!0,clicks:!0,spendMicros:!0,conversions:!0,revenueMicros:!0,campaign:{select:{name:!0}},platform:{select:{code:!0}}}}),d=new Map;for(let a of c)d.has(a.campaignId)||d.set(a.campaignId,[]),d.get(a.campaignId).push(a);let f=[];for(let[a,c]of d){let d=c[0]?.campaign.name??a,e=c[0]?.platform.code??null,g=this.groupByPeriod(c,b,{entityLevel:"campaign",entityId:a,entityName:d,platformCode:e});f.push(...g)}return f.sort((a,b)=>a.periodStart.getTime()-b.periodStart.getTime())}async aggregateByAd(a,b){let c=await e.prisma.dailyAdMetric.findMany({where:{organizationId:a.organizationId,date:{gte:a.dateRange.start,lte:a.dateRange.end},...a.adIds?.length?{adId:{in:a.adIds}}:{},...a.campaignIds?.length?{campaignId:{in:a.campaignIds}}:{},...a.adAccountIds?.length?{adAccountId:{in:a.adAccountIds}}:{},...a.platformCodes?.length?{platform:{code:{in:a.platformCodes}}}:{}},select:{date:!0,adId:!0,impressions:!0,clicks:!0,spendMicros:!0,conversions:!0,revenueMicros:!0,ad:{select:{name:!0}},platform:{select:{code:!0}}}}),d=new Map;for(let a of c)d.has(a.adId)||d.set(a.adId,[]),d.get(a.adId).push(a);let f=[];for(let[a,c]of d){let d=c[0]?.ad.name??a,e=c[0]?.platform.code??null,g=this.groupByPeriod(c,b,{entityLevel:"ad",entityId:a,entityName:d,platformCode:e});f.push(...g)}return f.sort((a,b)=>a.periodStart.getTime()-b.periodStart.getTime())}groupByPeriod(a,b,c){let d=new Map;for(let c of a){let{label:a}=h(c.date,b);d.has(a)||d.set(a,{impressions:BigInt(0),clicks:BigInt(0),spendMicros:BigInt(0),conversions:BigInt(0),revenueMicros:BigInt(0)});let e=d.get(a);e.impressions+=c.impressions,e.clicks+=c.clicks,e.spendMicros+=c.spendMicros,e.conversions+=c.conversions,e.revenueMicros+=c.revenueMicros}let e=[];for(let[f,i]of d){let d=a.find(a=>{let{label:c}=h(a.date,b);return c===f})?.date;if(!d)continue;let{start:j,end:k}=h(d,b);e.push({period:f,periodStart:j,periodEnd:k,entityId:c.entityId,entityName:c.entityName,entityLevel:c.entityLevel,platformCode:c.platformCode,metrics:g(i,this.config.targetCpaMicros)})}return e.sort((a,b)=>a.periodStart.getTime()-b.periodStart.getTime())}async getSummary(a){let b,c=await this.aggregateTotal(a.filter,a.entityLevel);if(!a.comparePrevious)return{current:c,previous:null,change:null};let d=Math.ceil((a.filter.dateRange.end.getTime()-a.filter.dateRange.start.getTime())/864e5),e=new Date(a.filter.dateRange.start);e.setDate(e.getDate()-1);let f=new Date(e);f.setDate(f.getDate()-d+1);let g={...a.filter,dateRange:{start:f,end:e}},h=await this.aggregateTotal(g,a.entityLevel);return{current:c,previous:h,change:{impressions:(b=(a,b)=>0===b?100*(a>0):(a-b)/b*100)(c.impressions,h.impressions),clicks:b(c.clicks,h.clicks),spend:b(c.spend,h.spend),conversions:b(c.conversions,h.conversions),revenue:b(c.revenue,h.revenue),cpa:null!==c.cpa&&null!==h.cpa?b(c.cpa,h.cpa):null,roas:null!==c.roas&&null!==h.roas?b(c.roas,h.roas):null,wastePercent:c.wastePercent-h.wastePercent}}}async aggregateTotal(a,b){let c=await this.aggregateByPeriod({filter:a,granularity:"day",entityLevel:b}),d={impressions:BigInt(0),clicks:BigInt(0),spendMicros:BigInt(0),conversions:BigInt(0),revenueMicros:BigInt(0)};for(let a of c)d.impressions+=BigInt(Math.round(a.metrics.impressions)),d.clicks+=BigInt(Math.round(a.metrics.clicks)),d.spendMicros+=BigInt(Math.round(1e6*a.metrics.spend)),d.conversions+=BigInt(Math.round(a.metrics.conversions)),d.revenueMicros+=BigInt(Math.round(1e6*a.metrics.revenue));return g(d,this.config.targetCpaMicros)}invalidateCache(a){return this.cache.invalidateOrganization(a)}getConfig(){return{...this.config}}};a.i(88372);var m=a.i(51601);async function n(a){let b=a.days??30,c=new Date;c.setHours(23,59,59,999);let d=new Date(c);d.setDate(d.getDate()-b+1),d.setHours(0,0,0,0);let e=await o(a.organizationId,d,c,b);return e||q(a.organizationId,d,c,b)}async function o(a,b,c,d){let f=await e.prisma.dailyRollup.findMany({where:{organizationId:a,grain:"ORGANIZATION",date:{gte:b,lte:c}}});if(0===f.length)return null;let g=p(f),h=new Date(b);h.setDate(h.getDate()-1);let i=new Date(h);i.setDate(i.getDate()-d+1);let j=await e.prisma.dailyRollup.findMany({where:{organizationId:a,grain:"ORGANIZATION",date:{gte:i,lte:h}}}),k=j.length>0?p(j):null,l=k?{spend:g.spend>0&&k.spend>0?(g.spend-k.spend)/k.spend*100:0,conversions:g.conversions>0&&k.conversions>0?(g.conversions-k.conversions)/k.conversions*100:0,cpa:null!==g.cpa&&null!==k.cpa&&k.cpa>0?(g.cpa-k.cpa)/k.cpa*100:null,wastedSpendPercent:g.wastedSpendPercent-k.wastedSpendPercent}:null;return{totalSpend:g.spend,totalConversions:g.conversions,overallCpa:g.cpa,wastedSpendPercent:g.wastedSpendPercent,roas:g.roas,previousPeriod:k?{totalSpend:k.spend,totalConversions:k.conversions,overallCpa:k.cpa,wastedSpendPercent:k.wastedSpendPercent}:null,changes:l}}function p(a){let b=a.reduce((a,b)=>a+Number(b.spendMicros),0),c=a.reduce((a,b)=>a+b.conversions,0),d=a.reduce((a,b)=>a+Number(b.conversionValue),0),e=a.reduce((a,b)=>a+Number(b.wasteSpendMicros),0),f=b/1e6,g=d/1e6;return{spend:f,conversions:c,revenue:g,cpa:c>0?f/c:null,roas:f>0?g/f:null,wastedSpendPercent:f>0?e/1e6/f*100:0}}async function q(a,b,c,d){let e=await l.getSummary({filter:{organizationId:a,dateRange:{start:b,end:c}},entityLevel:"organization",comparePrevious:!0}),f=(await m.wasteEvaluator.evaluateOrganization({organizationId:a,windowDays:d,endDate:c})).alerts.reduce((a,b)=>a+Number(b.spendMicros)/1e6,0),g=e.current.spend>0?f/e.current.spend*100:0,h=0;if(e.previous&&e.previous.spend>0){let c=new Date(b);c.setDate(c.getDate()-1);let f=(await m.wasteEvaluator.evaluateOrganization({organizationId:a,windowDays:d,endDate:c})).alerts.reduce((a,b)=>a+Number(b.spendMicros)/1e6,0);h=e.previous.spend>0?f/e.previous.spend*100:0}return{totalSpend:e.current.spend,totalConversions:e.current.conversions,overallCpa:e.current.cpa,wastedSpendPercent:g,roas:e.current.roas,previousPeriod:e.previous?{totalSpend:e.previous.spend,totalConversions:e.previous.conversions,overallCpa:e.previous.cpa,wastedSpendPercent:h}:null,changes:e.change?{spend:e.change.spend,conversions:e.change.conversions,cpa:e.change.cpa,wastedSpendPercent:g-h}:null}}async function r(a){return(await e.prisma.ingestionJob.findMany({where:{organizationId:a.organizationId,status:{in:["SUCCEEDED","FAILED"]}},orderBy:{updatedAt:"desc"},take:a.limit??5,select:{id:!0,platform:!0,jobType:!0,status:!0,updatedAt:!0}})).map(a=>({id:a.id,type:"SUCCEEDED"===a.status?"success":"error",description:`${a.platform} ${a.jobType.toLowerCase().replace("_"," ")} ${a.status.toLowerCase()}`,timestamp:a.updatedAt}))}async function s(a){return(await m.wasteEvaluator.evaluateOrganization({organizationId:a.organizationId,windowDays:7})).alerts.sort((a,b)=>Number(b.spendMicros)-Number(a.spendMicros)).slice(0,a.limit??5).map(a=>({id:a.id,entityName:a.entityName,entityType:a.entityType,wastedSpend:Number(a.spendMicros)/1e6,reason:a.reason.replace(/_/g," "),level:a.level}))}var t=a.i(36437);function u(a){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(a)}function v(a,b=!1){if(null===a||0===a)return"neutral";let c=a>0;return b?c?"down":"up":c?"up":"down"}async function w(){var a,e;let f=await (0,c.getServerSession)(d.authOptions),g=f?.user?.activeOrgId,h=null,i=[],j=[];if(g)try{[h,i,j]=await Promise.all([n({organizationId:g,days:30}),r({organizationId:g,limit:5}),s({organizationId:g,limit:5})])}catch(a){console.error("Failed to load dashboard data:",a)}return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold tracking-tight",children:"Dashboard"}),(0,b.jsxs)("p",{className:"mt-1 text-sm text-zinc-600",children:["Welcome back, ",f?.user?.name??f?.user?.email]})]}),(0,b.jsxs)(t.KpiCardGrid,{children:[(0,b.jsx)(t.KpiCard,{title:"Total Spend",value:h?u(h.totalSpend):"$0.00",change:h?.changes?.spend??null,changeLabel:"vs last period",trend:v(h?.changes?.spend??null),icon:(0,b.jsx)(x,{})}),(0,b.jsx)(t.KpiCard,{title:"Conversions",value:h?(a=h.totalConversions,new Intl.NumberFormat("en-US").format(a)):"0",change:h?.changes?.conversions??null,changeLabel:"vs last period",trend:v(h?.changes?.conversions??null),icon:(0,b.jsx)(y,{})}),(0,b.jsx)(t.KpiCard,{title:"CPA",value:h?.overallCpa?u(h.overallCpa):"â€”",change:h?.changes?.cpa??null,changeLabel:"vs last period",trend:v(h?.changes?.cpa??null,!0),icon:(0,b.jsx)(z,{})}),(0,b.jsx)(t.KpiCard,{title:"Wasted Spend",value:h?(e=h.wastedSpendPercent,`${e.toFixed(1)}%`):"0.0%",change:h?.changes?.wastedSpendPercent??null,changeLabel:"vs last period",trend:v(h?.changes?.wastedSpendPercent??null,!0),icon:(0,b.jsx)(A,{})})]}),(0,b.jsxs)("div",{className:"grid gap-4 lg:grid-cols-2",children:[(0,b.jsxs)("div",{className:"rounded-xl border border-zinc-200 bg-white p-6",children:[(0,b.jsx)("h2",{className:"text-sm font-medium text-zinc-900",children:"Recent Activity"}),i.length>0?(0,b.jsx)("ul",{className:"mt-4 space-y-3",children:i.map(a=>(0,b.jsxs)("li",{className:"flex items-start gap-3",children:[(0,b.jsx)("span",{className:`mt-0.5 h-2 w-2 rounded-full ${"success"===a.type?"bg-green-500":"bg-red-500"}`}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm text-zinc-700",children:a.description}),(0,b.jsx)("p",{className:"text-xs text-zinc-500",children:a.timestamp.toLocaleString()})]})]},a.id))}):(0,b.jsx)("p",{className:"mt-4 text-sm text-zinc-500",children:"No recent activity"})]}),(0,b.jsxs)("div",{className:"rounded-xl border border-zinc-200 bg-white p-6",children:[(0,b.jsx)("h2",{className:"text-sm font-medium text-zinc-900",children:"Waste Alerts"}),j.length>0?(0,b.jsx)("ul",{className:"mt-4 space-y-3",children:j.map(a=>(0,b.jsxs)("li",{className:"flex items-start justify-between gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-zinc-700",children:a.entityName}),(0,b.jsx)("p",{className:"text-xs text-zinc-500 capitalize",children:a.reason})]}),(0,b.jsx)("span",{className:`rounded-full px-2 py-0.5 text-xs font-medium ${"critical"===a.level?"bg-red-100 text-red-700":"high"===a.level?"bg-orange-100 text-orange-700":"bg-yellow-100 text-yellow-700"}`,children:u(a.wastedSpend)})]},a.id))}):(0,b.jsx)("p",{className:"mt-4 text-sm text-zinc-500",children:"No waste alerts"})]})]}),(0,b.jsxs)("div",{className:"rounded-xl border border-zinc-200 bg-white p-6",children:[(0,b.jsx)("h2",{className:"text-sm font-medium text-zinc-900",children:"Quick Actions"}),(0,b.jsxs)("div",{className:"mt-4 flex flex-wrap gap-3",children:[(0,b.jsxs)("a",{href:"/app/integrations",className:"inline-flex items-center gap-2 rounded-lg border border-zinc-200 px-4 py-2 text-sm font-medium text-zinc-700 hover:bg-zinc-50",children:[(0,b.jsx)("span",{children:"ðŸ”Œ"})," Connect Ad Platform"]}),(0,b.jsxs)("a",{href:"/app/campaigns",className:"inline-flex items-center gap-2 rounded-lg border border-zinc-200 px-4 py-2 text-sm font-medium text-zinc-700 hover:bg-zinc-50",children:[(0,b.jsx)("span",{children:"ðŸ“¢"})," View Campaigns"]}),(0,b.jsxs)("a",{href:"/app/waste",className:"inline-flex items-center gap-2 rounded-lg border border-zinc-200 px-4 py-2 text-sm font-medium text-zinc-700 hover:bg-zinc-50",children:[(0,b.jsx)("span",{children:"ðŸ’¸"})," Check Waste"]})]})]})]})}function x(){return(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}function y(){return(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}function z(){return(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})})}function A(){return(0,b.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}a.i(35405),a.i(22445),a.i(99140),a.s(["default",()=>w],97263)}];

//# sourceMappingURL=13466_Desktop_Optiq_CascadeProjects_windsurf-project_apps_frontend_src_4c8459e9._.js.map