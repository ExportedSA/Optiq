{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/GGPC/OneDrive/Desktop/Optiq/CascadeProjects/windsurf-project/apps/frontend/src/app/app/alerts/components/alert-card.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\n\r\ninterface AlertCardProps {\r\n  alert: {\r\n    id: string;\r\n    status: \"TRIGGERED\" | \"ACKNOWLEDGED\" | \"RESOLVED\" | \"DISMISSED\";\r\n    severity: \"INFO\" | \"WARNING\" | \"CRITICAL\";\r\n    title: string;\r\n    message: string;\r\n    context: any;\r\n    triggeredAt: string;\r\n    alertRule: {\r\n      name: string;\r\n      type: string;\r\n    };\r\n  };\r\n  onStatusUpdate: (alertId: string, action: \"acknowledge\" | \"resolve\" | \"dismiss\") => void;\r\n}\r\n\r\nexport function AlertCard({ alert, onStatusUpdate }: AlertCardProps) {\r\n  const [expanded, setExpanded] = useState(false);\r\n  const [updating, setUpdating] = useState(false);\r\n\r\n  const handleAction = async (action: \"acknowledge\" | \"resolve\" | \"dismiss\") => {\r\n    setUpdating(true);\r\n    await onStatusUpdate(alert.id, action);\r\n    setUpdating(false);\r\n  };\r\n\r\n  // Severity styling\r\n  const severityConfig = {\r\n    CRITICAL: {\r\n      bg: \"bg-red-50\",\r\n      border: \"border-red-200\",\r\n      badge: \"bg-red-100 text-red-800\",\r\n      icon: \"ðŸ”´\",\r\n    },\r\n    WARNING: {\r\n      bg: \"bg-orange-50\",\r\n      border: \"border-orange-200\",\r\n      badge: \"bg-orange-100 text-orange-800\",\r\n      icon: \"âš ï¸\",\r\n    },\r\n    INFO: {\r\n      bg: \"bg-blue-50\",\r\n      border: \"border-blue-200\",\r\n      badge: \"bg-blue-100 text-blue-800\",\r\n      icon: \"â„¹ï¸\",\r\n    },\r\n  };\r\n\r\n  // Status styling\r\n  const statusConfig = {\r\n    TRIGGERED: {\r\n      badge: \"bg-red-100 text-red-800\",\r\n      label: \"Active\",\r\n    },\r\n    ACKNOWLEDGED: {\r\n      badge: \"bg-yellow-100 text-yellow-800\",\r\n      label: \"Acknowledged\",\r\n    },\r\n    RESOLVED: {\r\n      badge: \"bg-green-100 text-green-800\",\r\n      label: \"Resolved\",\r\n    },\r\n    DISMISSED: {\r\n      badge: \"bg-gray-100 text-gray-800\",\r\n      label: \"Dismissed\",\r\n    },\r\n  };\r\n\r\n  const config = severityConfig[alert.severity];\r\n  const statusBadge = statusConfig[alert.status];\r\n\r\n  const formatDate = (dateString: string) => {\r\n    const date = new Date(dateString);\r\n    const now = new Date();\r\n    const diffMs = now.getTime() - date.getTime();\r\n    const diffMins = Math.floor(diffMs / 60000);\r\n    const diffHours = Math.floor(diffMs / 3600000);\r\n    const diffDays = Math.floor(diffMs / 86400000);\r\n\r\n    if (diffMins < 1) return \"Just now\";\r\n    if (diffMins < 60) return `${diffMins}m ago`;\r\n    if (diffHours < 24) return `${diffHours}h ago`;\r\n    if (diffDays < 7) return `${diffDays}d ago`;\r\n    return date.toLocaleDateString();\r\n  };\r\n\r\n  return (\r\n    <div className={`bg-white rounded-lg shadow border-l-4 ${config.border} ${config.bg} transition-all`}>\r\n      <div className=\"p-6\">\r\n        {/* Header */}\r\n        <div className=\"flex items-start justify-between mb-3\">\r\n          <div className=\"flex items-start gap-3 flex-1\">\r\n            <span className=\"text-2xl\">{config.icon}</span>\r\n            <div className=\"flex-1\">\r\n              <div className=\"flex items-center gap-2 mb-1\">\r\n                <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${config.badge}`}>\r\n                  {alert.severity}\r\n                </span>\r\n                <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${statusBadge.badge}`}>\r\n                  {statusBadge.label}\r\n                </span>\r\n                <span className=\"text-xs text-gray-500\">{formatDate(alert.triggeredAt)}</span>\r\n              </div>\r\n              <h3 className=\"text-lg font-semibold text-gray-900\">{alert.title}</h3>\r\n              <p className=\"text-gray-700 mt-1\">{alert.message}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Context Details (Expandable) */}\r\n        {alert.context && Object.keys(alert.context).length > 0 && (\r\n          <div className=\"mt-4\">\r\n            <button\r\n              onClick={() => setExpanded(!expanded)}\r\n              className=\"text-sm text-blue-600 hover:text-blue-700 font-medium\"\r\n            >\r\n              {expanded ? \"Hide details â–²\" : \"Show details â–¼\"}\r\n            </button>\r\n            {expanded && (\r\n              <div className=\"mt-3 bg-white rounded-lg border border-gray-200 p-4\">\r\n                <dl className=\"grid grid-cols-2 gap-x-4 gap-y-2 text-sm\">\r\n                  {Object.entries(alert.context).map(([key, value]) => (\r\n                    <div key={key}>\r\n                      <dt className=\"text-gray-500 font-medium\">{key}:</dt>\r\n                      <dd className=\"text-gray-900\">\r\n                        {typeof value === \"number\" && key.toLowerCase().includes(\"pct\")\r\n                          ? `${value.toFixed(1)}%`\r\n                          : typeof value === \"number\" && (key.toLowerCase().includes(\"cpa\") || key.toLowerCase().includes(\"spend\") || key.toLowerCase().includes(\"threshold\"))\r\n                          ? `$${value.toFixed(2)}`\r\n                          : String(value)}\r\n                      </dd>\r\n                    </div>\r\n                  ))}\r\n                </dl>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Actions */}\r\n        {alert.status === \"TRIGGERED\" && (\r\n          <div className=\"mt-4 flex gap-2\">\r\n            <button\r\n              onClick={() => handleAction(\"acknowledge\")}\r\n              disabled={updating}\r\n              className=\"px-4 py-2 bg-yellow-600 text-white rounded-lg text-sm font-medium hover:bg-yellow-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              {updating ? \"Updating...\" : \"Acknowledge\"}\r\n            </button>\r\n            <button\r\n              onClick={() => handleAction(\"resolve\")}\r\n              disabled={updating}\r\n              className=\"px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              {updating ? \"Updating...\" : \"Resolve\"}\r\n            </button>\r\n            <button\r\n              onClick={() => handleAction(\"dismiss\")}\r\n              disabled={updating}\r\n              className=\"px-4 py-2 bg-gray-600 text-white rounded-lg text-sm font-medium hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              {updating ? \"Updating...\" : \"Dismiss\"}\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {alert.status === \"ACKNOWLEDGED\" && (\r\n          <div className=\"mt-4 flex gap-2\">\r\n            <button\r\n              onClick={() => handleAction(\"resolve\")}\r\n              disabled={updating}\r\n              className=\"px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              {updating ? \"Updating...\" : \"Resolve\"}\r\n            </button>\r\n            <button\r\n              onClick={() => handleAction(\"dismiss\")}\r\n              disabled={updating}\r\n              className=\"px-4 py-2 bg-gray-600 text-white rounded-lg text-sm font-medium hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              {updating ? \"Updating...\" : \"Dismiss\"}\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 306, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/GGPC/OneDrive/Desktop/Optiq/CascadeProjects/windsurf-project/apps/frontend/src/app/app/alerts/components/alert-filters.tsx"],"sourcesContent":["\"use client\";\r\n\r\ninterface AlertFiltersProps {\r\n  statusFilter: string[];\r\n  severityFilter: string[];\r\n  onStatusFilterChange: (filter: string[]) => void;\r\n  onSeverityFilterChange: (filter: string[]) => void;\r\n}\r\n\r\nconst STATUS_OPTIONS = [\r\n  { value: \"TRIGGERED\", label: \"Active\", color: \"red\" },\r\n  { value: \"ACKNOWLEDGED\", label: \"Acknowledged\", color: \"yellow\" },\r\n  { value: \"RESOLVED\", label: \"Resolved\", color: \"green\" },\r\n  { value: \"DISMISSED\", label: \"Dismissed\", color: \"gray\" },\r\n];\r\n\r\nconst SEVERITY_OPTIONS = [\r\n  { value: \"CRITICAL\", label: \"Critical\", color: \"red\" },\r\n  { value: \"WARNING\", label: \"Warning\", color: \"orange\" },\r\n  { value: \"INFO\", label: \"Info\", color: \"blue\" },\r\n];\r\n\r\nexport function AlertFilters({\r\n  statusFilter,\r\n  severityFilter,\r\n  onStatusFilterChange,\r\n  onSeverityFilterChange,\r\n}: AlertFiltersProps) {\r\n  const toggleStatus = (status: string) => {\r\n    if (statusFilter.includes(status)) {\r\n      onStatusFilterChange(statusFilter.filter(s => s !== status));\r\n    } else {\r\n      onStatusFilterChange([...statusFilter, status]);\r\n    }\r\n  };\r\n\r\n  const toggleSeverity = (severity: string) => {\r\n    if (severityFilter.includes(severity)) {\r\n      onSeverityFilterChange(severityFilter.filter(s => s !== severity));\r\n    } else {\r\n      onSeverityFilterChange([...severityFilter, severity]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow p-4\">\r\n      <div className=\"flex flex-wrap gap-6\">\r\n        {/* Status Filter */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n            Status\r\n          </label>\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {STATUS_OPTIONS.map((option) => (\r\n              <button\r\n                key={option.value}\r\n                onClick={() => toggleStatus(option.value)}\r\n                className={`px-3 py-1.5 text-sm rounded-lg border transition-colors ${\r\n                  statusFilter.includes(option.value)\r\n                    ? \"bg-blue-600 text-white border-blue-600\"\r\n                    : \"bg-white text-gray-700 border-gray-300 hover:bg-gray-50\"\r\n                }`}\r\n              >\r\n                {option.label}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Severity Filter */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n            Severity\r\n          </label>\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            <button\r\n              onClick={() => onSeverityFilterChange([])}\r\n              className={`px-3 py-1.5 text-sm rounded-lg border transition-colors ${\r\n                severityFilter.length === 0\r\n                  ? \"bg-blue-600 text-white border-blue-600\"\r\n                  : \"bg-white text-gray-700 border-gray-300 hover:bg-gray-50\"\r\n              }`}\r\n            >\r\n              All\r\n            </button>\r\n            {SEVERITY_OPTIONS.map((option) => (\r\n              <button\r\n                key={option.value}\r\n                onClick={() => toggleSeverity(option.value)}\r\n                className={`px-3 py-1.5 text-sm rounded-lg border transition-colors ${\r\n                  severityFilter.includes(option.value)\r\n                    ? \"bg-blue-600 text-white border-blue-600\"\r\n                    : \"bg-white text-gray-700 border-gray-300 hover:bg-gray-50\"\r\n                }`}\r\n              >\r\n                {option.label}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;AASA,MAAM,iBAAiB;IACrB;QAAE,OAAO;QAAa,OAAO;QAAU,OAAO;IAAM;IACpD;QAAE,OAAO;QAAgB,OAAO;QAAgB,OAAO;IAAS;IAChE;QAAE,OAAO;QAAY,OAAO;QAAY,OAAO;IAAQ;IACvD;QAAE,OAAO;QAAa,OAAO;QAAa,OAAO;IAAO;CACzD;AAED,MAAM,mBAAmB;IACvB;QAAE,OAAO;QAAY,OAAO;QAAY,OAAO;IAAM;IACrD;QAAE,OAAO;QAAW,OAAO;QAAW,OAAO;IAAS;IACtD;QAAE,OAAO;QAAQ,OAAO;QAAQ,OAAO;IAAO;CAC/C;AAEM,SAAS,aAAa,EAC3B,YAAY,EACZ,cAAc,EACd,oBAAoB,EACpB,sBAAsB,EACJ;IAClB,MAAM,eAAe,CAAC;QACpB,IAAI,aAAa,QAAQ,CAAC,SAAS;YACjC,qBAAqB,aAAa,MAAM,CAAC,CAAA,IAAK,MAAM;QACtD,OAAO;YACL,qBAAqB;mBAAI;gBAAc;aAAO;QAChD;IACF;IAEA,MAAM,iBAAiB,CAAC;QACtB,IAAI,eAAe,QAAQ,CAAC,WAAW;YACrC,uBAAuB,eAAe,MAAM,CAAC,CAAA,IAAK,MAAM;QAC1D,OAAO;YACL,uBAAuB;mBAAI;gBAAgB;aAAS;QACtD;IACF;IAEA,qBACE,wTAAC;QAAI,WAAU;kBACb,cAAA,wTAAC;YAAI,WAAU;;8BAEb,wTAAC;;sCACC,wTAAC;4BAAM,WAAU;sCAA+C;;;;;;sCAGhE,wTAAC;4BAAI,WAAU;sCACZ,eAAe,GAAG,CAAC,CAAC,uBACnB,wTAAC;oCAEC,SAAS,IAAM,aAAa,OAAO,KAAK;oCACxC,WAAW,CAAC,wDAAwD,EAClE,aAAa,QAAQ,CAAC,OAAO,KAAK,IAC9B,2CACA,2DACJ;8CAED,OAAO,KAAK;mCARR,OAAO,KAAK;;;;;;;;;;;;;;;;8BAezB,wTAAC;;sCACC,wTAAC;4BAAM,WAAU;sCAA+C;;;;;;sCAGhE,wTAAC;4BAAI,WAAU;;8CACb,wTAAC;oCACC,SAAS,IAAM,uBAAuB,EAAE;oCACxC,WAAW,CAAC,wDAAwD,EAClE,eAAe,MAAM,KAAK,IACtB,2CACA,2DACJ;8CACH;;;;;;gCAGA,iBAAiB,GAAG,CAAC,CAAC,uBACrB,wTAAC;wCAEC,SAAS,IAAM,eAAe,OAAO,KAAK;wCAC1C,WAAW,CAAC,wDAAwD,EAClE,eAAe,QAAQ,CAAC,OAAO,KAAK,IAChC,2CACA,2DACJ;kDAED,OAAO,KAAK;uCARR,OAAO,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgBjC"}},
    {"offset": {"line": 469, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/GGPC/OneDrive/Desktop/Optiq/CascadeProjects/windsurf-project/apps/frontend/src/app/app/alerts/alerts-inbox.tsx"],"sourcesContent":["\"use client\";\r\n\r\n/**\r\n * Alerts Inbox Component\r\n * \r\n * Lists AlertEvents with filtering and status updates\r\n */\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { AlertCard } from \"./components/alert-card\";\r\nimport { AlertFilters } from \"./components/alert-filters\";\r\n\r\ninterface Alert {\r\n  id: string;\r\n  status: \"TRIGGERED\" | \"ACKNOWLEDGED\" | \"RESOLVED\" | \"DISMISSED\";\r\n  severity: \"INFO\" | \"WARNING\" | \"CRITICAL\";\r\n  title: string;\r\n  message: string;\r\n  context: any;\r\n  triggeredAt: string;\r\n  alertRule: {\r\n    name: string;\r\n    type: string;\r\n  };\r\n}\r\n\r\nexport function AlertsInbox() {\r\n  const [alerts, setAlerts] = useState<Alert[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [statusFilter, setStatusFilter] = useState<string[]>([\"TRIGGERED\", \"ACKNOWLEDGED\"]);\r\n  const [severityFilter, setSeverityFilter] = useState<string[]>([]);\r\n  const [total, setTotal] = useState(0);\r\n\r\n  useEffect(() => {\r\n    fetchAlerts();\r\n  }, [statusFilter, severityFilter]);\r\n\r\n  const fetchAlerts = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const params = new URLSearchParams();\r\n      if (statusFilter.length > 0) {\r\n        params.set(\"status\", statusFilter.join(\",\"));\r\n      }\r\n      if (severityFilter.length > 0) {\r\n        params.set(\"severity\", severityFilter.join(\",\"));\r\n      }\r\n\r\n      const response = await fetch(`/api/alerts?${params}`);\r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        setAlerts(result.data || []);\r\n        setTotal(result.pagination?.total || 0);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch alerts:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleStatusUpdate = async (alertId: string, action: \"acknowledge\" | \"resolve\" | \"dismiss\") => {\r\n    try {\r\n      const response = await fetch(\"/api/alerts\", {\r\n        method: \"PATCH\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ alertId, action }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        // Refresh alerts\r\n        fetchAlerts();\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Failed to update alert:\", error);\r\n    }\r\n  };\r\n\r\n  const triggeredCount = alerts.filter(a => a.status === \"TRIGGERED\").length;\r\n  const criticalCount = alerts.filter(a => a.severity === \"CRITICAL\" && a.status === \"TRIGGERED\").length;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <div className=\"bg-white border-b border-gray-200\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-gray-900\">Alerts</h1>\r\n              <p className=\"text-gray-600 mt-1\">\r\n                {triggeredCount > 0 ? (\r\n                  <>\r\n                    <span className=\"font-semibold text-red-600\">{triggeredCount}</span> active alert{triggeredCount !== 1 ? \"s\" : \"\"}\r\n                    {criticalCount > 0 && (\r\n                      <span className=\"ml-2\">\r\n                        (<span className=\"font-semibold text-red-700\">{criticalCount}</span> critical)\r\n                      </span>\r\n                    )}\r\n                  </>\r\n                ) : (\r\n                  \"No active alerts\"\r\n                )}\r\n              </p>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"text-sm text-gray-500\">Total: {total}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Filters */}\r\n        <AlertFilters\r\n          statusFilter={statusFilter}\r\n          severityFilter={severityFilter}\r\n          onStatusFilterChange={setStatusFilter}\r\n          onSeverityFilterChange={setSeverityFilter}\r\n        />\r\n\r\n        {/* Alerts List */}\r\n        <div className=\"mt-6 space-y-4\">\r\n          {loading ? (\r\n            <div className=\"space-y-4\">\r\n              {[...Array(3)].map((_, i) => (\r\n                <div key={i} className=\"bg-white rounded-lg shadow p-6 animate-pulse\">\r\n                  <div className=\"h-6 bg-gray-200 rounded w-3/4 mb-2\"></div>\r\n                  <div className=\"h-4 bg-gray-200 rounded w-1/2\"></div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : alerts.length === 0 ? (\r\n            <div className=\"bg-white rounded-lg shadow p-12 text-center\">\r\n              <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                <svg className=\"w-8 h-8 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n                </svg>\r\n              </div>\r\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">All Clear!</h3>\r\n              <p className=\"text-gray-600\">No alerts match your current filters</p>\r\n            </div>\r\n          ) : (\r\n            alerts.map((alert) => (\r\n              <AlertCard\r\n                key={alert.id}\r\n                alert={alert}\r\n                onStatusUpdate={handleStatusUpdate}\r\n              />\r\n            ))\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}