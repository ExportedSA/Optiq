(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,77608,e=>{"use strict";var t=e.i(15442),n=e.i(35560);function s(e){let s,a,l,r,i,c,o=(0,n.c)(26),{title:d,value:x,change:m,changeLabel:h,trend:u,icon:p,loading:g}=e,j=void 0===u?"neutral":u;if(void 0!==g&&g){let e,n,s,a,l,r;return o[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"h-4 w-24 animate-pulse rounded bg-zinc-200"}),o[0]=e):e=o[0],o[1]!==p?(n=p&&(0,t.jsx)("div",{className:"text-zinc-400",children:p}),o[1]=p,o[2]=n):n=o[2],o[3]!==n?(s=(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[e,n]}),o[3]=n,o[4]=s):s=o[4],o[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)("div",{className:"mt-3 h-8 w-32 animate-pulse rounded bg-zinc-200"}),l=(0,t.jsx)("div",{className:"mt-2 h-4 w-20 animate-pulse rounded bg-zinc-200"}),o[5]=a,o[6]=l):(a=o[5],l=o[6]),o[7]!==s?(r=(0,t.jsxs)("div",{className:"rounded-xl border border-zinc-200 bg-white p-6",children:[s,a,l]}),o[7]=s,o[8]=r):r=o[8],r}if(o[9]!==d?(s=(0,t.jsx)("span",{className:"text-sm font-medium text-zinc-600",children:d}),o[9]=d,o[10]=s):s=o[10],o[11]!==p?(a=p&&(0,t.jsx)("div",{className:"text-zinc-400",children:p}),o[11]=p,o[12]=a):a=o[12],o[13]!==s||o[14]!==a?(l=(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[s,a]}),o[13]=s,o[14]=a,o[15]=l):l=o[15],o[16]!==x?(r=(0,t.jsx)("div",{className:"mt-2 text-2xl font-semibold tracking-tight text-zinc-900",children:x}),o[16]=x,o[17]=r):r=o[17],o[18]!==m||o[19]!==h||o[20]!==j)i=null!=m&&(0,t.jsxs)("div",{className:`mt-1 flex items-center gap-1 text-sm ${function(e,t=!1){return"neutral"===e?"text-zinc-500":t?"up"===e?"text-red-600":"text-green-600":"up"===e?"text-green-600":"text-red-600"}(j)}`,children:[(0,t.jsx)("span",{children:"up"===j?"↑":"down"===j?"↓":"→"}),(0,t.jsxs)("span",{children:[m>=0?"+":"",m.toFixed(1),"%"]}),h&&(0,t.jsx)("span",{className:"text-zinc-500",children:h})]}),o[18]=m,o[19]=h,o[20]=j,o[21]=i;else i=o[21];return o[22]!==l||o[23]!==r||o[24]!==i?(c=(0,t.jsxs)("div",{className:"rounded-xl border border-zinc-200 bg-white p-6 transition-shadow hover:shadow-sm",children:[l,r,i]}),o[22]=l,o[23]=r,o[24]=i,o[25]=c):c=o[25],c}function a(e){let s,a=(0,n.c)(2),{children:l}=e;return a[0]!==l?(s=(0,t.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:l}),a[0]=l,a[1]=s):s=a[1],s}e.s(["KpiCard",()=>s,"KpiCardGrid",()=>a])},61784,e=>{"use strict";var t=e.i(15442),n=e.i(35560);let s={spend:{label:"Spend",color:"#3b82f6",format:e=>`$${e.toLocaleString(void 0,{maximumFractionDigits:0})}`},revenue:{label:"Revenue",color:"#10b981",format:e=>`$${e.toLocaleString(void 0,{maximumFractionDigits:0})}`},conversions:{label:"Conversions",color:"#8b5cf6",format:e=>e.toLocaleString(void 0,{maximumFractionDigits:0})},roas:{label:"ROAS",color:"#f59e0b",format:e=>`${e.toFixed(2)}x`},cpa:{label:"CPA",color:"#ef4444",format:e=>`$${e.toFixed(2)}`}};function a(e){let a,i,c,o,d,x,m,h,u,p,g,j,b,f,v,y,k,N=(0,n.c)(80),{data:w,metric:z,height:C,showGrid:S}=e,L=void 0===C?200:C,D=void 0===S||S,_=s[z];e:{let e,t,n,s,l;if(0===w.length){let e,t;N[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],N[0]=e):e=N[0],N[1]===Symbol.for("react.memo_cache_sentinel")?(t={points:e,minY:0,maxY:100,yTicks:[0,50,100]},N[1]=t):t=N[1],a=t;break e}if(N[2]!==w||N[3]!==z){let n;N[6]!==z?(n=e=>e[z]??0,N[6]=z,N[7]=n):n=N[7];let s=w.map(n);e=Math.min(...s),t=Math.max(...s),N[2]=w,N[3]=z,N[4]=e,N[5]=t}else e=N[4],t=N[5];let r=t,i=.1*(r-e||1),c=Math.max(0,e-i),o=r+i,d=(o-c)/4;N[8]!==c||N[9]!==d?(n=Array.from({length:5},(e,t)=>c+t*d),N[8]=c,N[9]=d,N[10]=n):n=N[10];let x=n;if(N[11]!==w||N[12]!==o||N[13]!==z||N[14]!==c){let e;N[16]!==w.length||N[17]!==o||N[18]!==z||N[19]!==c?(e=(e,t)=>({x:1===w.length?50:t/(w.length-1)*100,y:o===c?50:100-((e[z]??0)-c)/(o-c)*100,value:e[z]??0,date:e.date}),N[16]=w.length,N[17]=o,N[18]=z,N[19]=c,N[20]=e):e=N[20],s=w.map(e),N[11]=w,N[12]=o,N[13]=z,N[14]=c,N[15]=s}else s=N[15];let m=s;N[21]!==o||N[22]!==c||N[23]!==m||N[24]!==x?(l={points:m,minY:c,maxY:o,yTicks:x},N[21]=o,N[22]=c,N[23]=m,N[24]=x,N[25]=l):l=N[25],a=l}let{points:M,yTicks:$}=a;if(0===w.length){let e,n,s;return N[26]!==L?(e={height:L},N[26]=L,N[27]=e):e=N[27],N[28]===Symbol.for("react.memo_cache_sentinel")?(n=(0,t.jsx)("span",{className:"text-sm text-zinc-500",children:"No data available"}),N[28]=n):n=N[28],N[29]!==e?(s=(0,t.jsx)("div",{className:"flex items-center justify-center rounded-lg border border-zinc-200 bg-zinc-50",style:e,children:n}),N[29]=e,N[30]=s):s=N[30],s}N[31]!==M?(i=M.length>0?`M ${M.map(r).join(" L ")}`:"",N[31]=M,N[32]=i):i=N[32];let T=i;N[33]!==M?(c=M.length>0?`M ${M[0].x},100 L ${M.map(l).join(" L ")} L ${M[M.length-1].x},100 Z`:"",N[33]=M,N[34]=c):c=N[34];let F=c;N[35]!==L?(o={height:L},N[35]=L,N[36]=o):o=N[36],N[37]!==D||N[38]!==$?(d=D&&(0,t.jsx)("g",{className:"text-zinc-200",children:$.map((e,n)=>(0,t.jsx)("line",{x1:"0",y1:100-n/($.length-1)*100,x2:"100",y2:100-n/($.length-1)*100,stroke:"currentColor",strokeWidth:"0.2"},n))}),N[37]=D,N[38]=$,N[39]=d):d=N[39];let A=`gradient-${z}`;N[40]!==_.color?(m=(0,t.jsx)("stop",{offset:"0%",stopColor:_.color,stopOpacity:"0.3"}),x=(0,t.jsx)("stop",{offset:"100%",stopColor:_.color,stopOpacity:"0"}),N[40]=_.color,N[41]=x,N[42]=m):(x=N[41],m=N[42]),N[43]!==x||N[44]!==A||N[45]!==m?(h=(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:A,x1:"0",y1:"0",x2:"0",y2:"1",children:[m,x]})}),N[43]=x,N[44]=A,N[45]=m,N[46]=h):h=N[46];let K=`url(#gradient-${z})`;if(N[47]!==F||N[48]!==K?(u=(0,t.jsx)("path",{d:F,fill:K}),N[47]=F,N[48]=K,N[49]=u):u=N[49],N[50]!==_.color||N[51]!==T?(p=(0,t.jsx)("path",{d:T,fill:"none",stroke:_.color,strokeWidth:"0.5",vectorEffect:"non-scaling-stroke"}),N[50]=_.color,N[51]=T,N[52]=p):p=N[52],N[53]!==_.color||N[54]!==M){let e;N[56]!==_.color?(e=(e,n)=>(0,t.jsx)("circle",{cx:e.x,cy:e.y,r:"0.8",fill:_.color,className:"opacity-0 hover:opacity-100 transition-opacity"},n),N[56]=_.color,N[57]=e):e=N[57],g=M.map(e),N[53]=_.color,N[54]=M,N[55]=g}else g=N[55];if(N[58]!==h||N[59]!==u||N[60]!==p||N[61]!==g||N[62]!==d?(j=(0,t.jsxs)("svg",{viewBox:"0 0 100 100",preserveAspectRatio:"none",className:"h-full w-full",children:[d,h,u,p,g]}),N[58]=h,N[59]=u,N[60]=p,N[61]=g,N[62]=d,N[63]=j):j=N[63],N[64]!==_||N[65]!==$){let e;N[67]!==_?(e=(e,n)=>(0,t.jsx)("span",{children:_.format(e)},n),N[67]=_,N[68]=e):e=N[68],b=$.slice().reverse().map(e),N[64]=_,N[65]=$,N[66]=b}else b=N[66];return N[69]!==b?(f=(0,t.jsx)("div",{className:"absolute left-0 top-0 flex h-full flex-col justify-between py-1 text-[10px] text-zinc-500",children:b}),N[69]=b,N[70]=f):f=N[70],N[71]!==w?(v=w.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{children:w[0].date}),w.length>1&&(0,t.jsx)("span",{children:w[w.length-1].date})]}),N[71]=w,N[72]=v):v=N[72],N[73]!==v?(y=(0,t.jsx)("div",{className:"absolute bottom-0 left-8 right-0 flex justify-between text-[10px] text-zinc-500",children:v}),N[73]=v,N[74]=y):y=N[74],N[75]!==j||N[76]!==f||N[77]!==y||N[78]!==o?(k=(0,t.jsxs)("div",{className:"relative",style:o,children:[j,f,y]}),N[75]=j,N[76]=f,N[77]=y,N[78]=o,N[79]=k):k=N[79],k}function l(e){return`${e.x},${e.y}`}function r(e){return`${e.x},${e.y}`}function i(e){let l,r,i,c,o,d,x,m,h,u=(0,n.c)(23),{title:p,data:g,metric:j,currentValue:b,change:f}=e,v=s[j];return u[0]!==p?(l=(0,t.jsx)("h3",{className:"text-sm font-medium text-zinc-600",children:p}),u[0]=p,u[1]=l):l=u[1],u[2]!==b?(r=(0,t.jsx)("span",{className:"text-xl font-semibold text-zinc-900",children:b}),u[2]=b,u[3]=r):r=u[3],u[4]!==f?(i=null!=f&&(0,t.jsxs)("span",{className:`text-sm ${f>=0?"text-green-600":"text-red-600"}`,children:[f>=0?"+":"",f.toFixed(1),"%"]}),u[4]=f,u[5]=i):i=u[5],u[6]!==r||u[7]!==i?(c=(0,t.jsxs)("div",{className:"mt-1 flex items-baseline gap-2",children:[r,i]}),u[6]=r,u[7]=i,u[8]=c):c=u[8],u[9]!==l||u[10]!==c?(o=(0,t.jsxs)("div",{children:[l,c]}),u[9]=l,u[10]=c,u[11]=o):o=u[11],u[12]!==v.color?(d=(0,t.jsx)("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:v.color}}),u[12]=v.color,u[13]=d):d=u[13],u[14]!==o||u[15]!==d?(x=(0,t.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[o,d]}),u[14]=o,u[15]=d,u[16]=x):x=u[16],u[17]!==g||u[18]!==j?(m=(0,t.jsx)(a,{data:g,metric:j,height:120}),u[17]=g,u[18]=j,u[19]=m):m=u[19],u[20]!==x||u[21]!==m?(h=(0,t.jsxs)("div",{className:"rounded-xl border border-zinc-200 bg-white p-4",children:[x,m]}),u[20]=x,u[21]=m,u[22]=h):h=u[22],h}e.s(["TimeseriesChart",()=>a,"TimeseriesChartCard",()=>i])},4443,e=>{"use strict";var t=e.i(15442),n=e.i(35560),s=e.i(30320);let a={GOOGLE_ADS:"Google",META:"Meta",TIKTOK:"TikTok",LINKEDIN:"LinkedIn"};function l(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function r(e){return new Intl.NumberFormat("en-US").format(Math.round(e))}function i(e){let a,l,r,i,o,d,x,m,h,u,p,g,j,b,f,v,y=(0,n.c)(42),{data:k,entityLabel:N}=e,w=void 0===N?"Campaign":N,[z,C]=(0,s.useState)("spend"),[S,L]=(0,s.useState)("desc");if(y[0]!==k||y[1]!==S||y[2]!==z){let e;y[4]!==S||y[5]!==z?(e=(e,t)=>{let n=e[z]??0,s=t[z]??0;return"desc"===S?s-n:n-s},y[4]=S,y[5]=z,y[6]=e):e=y[6],a=[...k].sort(e),y[0]=k,y[1]=S,y[2]=z,y[3]=a}else a=y[3];let D=a;y[7]!==S||y[8]!==z?(l=function(e){z===e?L("desc"===S?"asc":"desc"):(C(e),L("desc"))},y[7]=S,y[8]=z,y[9]=l):l=y[9];let _=l;y[10]!==_||y[11]!==S||y[12]!==z?(r=function(e){let{label:n,field:s}=e,a=z===s;return(0,t.jsx)("th",{className:"cursor-pointer px-3 py-2 text-right text-xs font-medium text-zinc-500 hover:text-zinc-700",onClick:()=>_(s),children:(0,t.jsxs)("span",{className:"inline-flex items-center gap-1",children:[n,a&&(0,t.jsx)("span",{className:"text-zinc-400",children:"desc"===S?"↓":"↑"})]})})},y[10]=_,y[11]=S,y[12]=z,y[13]=r):r=y[13];let M=r;if(0===k.length){let e;return y[14]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"rounded-xl border border-zinc-200 bg-white p-6",children:(0,t.jsx)("p",{className:"text-center text-sm text-zinc-500",children:"No data available"})}),y[14]=e):e=y[14],e}return y[15]!==w?(i=(0,t.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-zinc-500",children:w}),y[15]=w,y[16]=i):i=y[16],y[17]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-zinc-500",children:"Channel"}),y[17]=o):o=y[17],y[18]!==M?(u=(0,t.jsx)(M,{label:"Spend",field:"spend"}),p=(0,t.jsx)(M,{label:"Revenue",field:"revenue"}),g=(0,t.jsx)(M,{label:"ROAS",field:"roas"}),d=(0,t.jsx)(M,{label:"CPA",field:"cpa"}),x=(0,t.jsx)(M,{label:"Conv.",field:"conversions"}),m=(0,t.jsx)(M,{label:"Clicks",field:"clicks"}),h=(0,t.jsx)(M,{label:"Impr.",field:"impressions"}),y[18]=M,y[19]=d,y[20]=x,y[21]=m,y[22]=h,y[23]=u,y[24]=p,y[25]=g):(d=y[19],x=y[20],m=y[21],h=y[22],u=y[23],p=y[24],g=y[25]),y[26]!==d||y[27]!==x||y[28]!==m||y[29]!==h||y[30]!==i||y[31]!==u||y[32]!==p||y[33]!==g?(j=(0,t.jsx)("thead",{className:"border-b border-zinc-100 bg-zinc-50",children:(0,t.jsxs)("tr",{children:[i,o,u,p,g,d,x,m,h]})}),y[26]=d,y[27]=x,y[28]=m,y[29]=h,y[30]=i,y[31]=u,y[32]=p,y[33]=g,y[34]=j):j=y[34],y[35]!==D?(b=D.map(c),y[35]=D,y[36]=b):b=y[36],y[37]!==b?(f=(0,t.jsx)("tbody",{className:"divide-y divide-zinc-100",children:b}),y[37]=b,y[38]=f):f=y[38],y[39]!==j||y[40]!==f?(v=(0,t.jsx)("div",{className:"overflow-hidden rounded-xl border border-zinc-200 bg-white",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full min-w-[700px]",children:[j,f]})})}),y[39]=j,y[40]=f,y[41]=v):v=y[41],v}function c(e){return(0,t.jsxs)("tr",{className:"hover:bg-zinc-50",children:[(0,t.jsx)("td",{className:"max-w-[200px] truncate px-4 py-3 text-sm font-medium text-zinc-900",children:e.entityName}),(0,t.jsx)("td",{className:"px-3 py-3",children:e.platformCode&&(0,t.jsx)("span",{className:"inline-flex rounded-full bg-zinc-100 px-2 py-0.5 text-xs font-medium text-zinc-600",children:a[e.platformCode]??e.platformCode})}),(0,t.jsx)("td",{className:"px-3 py-3 text-right text-sm text-zinc-700",children:l(e.spend)}),(0,t.jsx)("td",{className:"px-3 py-3 text-right text-sm text-zinc-700",children:l(e.revenue)}),(0,t.jsx)("td",{className:"px-3 py-3 text-right text-sm",children:null!==e.roas?(0,t.jsxs)("span",{className:e.roas>=1?"text-green-600":"text-red-600",children:[e.roas.toFixed(2),"x"]}):(0,t.jsx)("span",{className:"text-zinc-400",children:"—"})}),(0,t.jsx)("td",{className:"px-3 py-3 text-right text-sm text-zinc-700",children:null!==e.cpa?l(e.cpa):"—"}),(0,t.jsx)("td",{className:"px-3 py-3 text-right text-sm text-zinc-700",children:r(e.conversions)}),(0,t.jsx)("td",{className:"px-3 py-3 text-right text-sm text-zinc-700",children:r(e.clicks)}),(0,t.jsx)("td",{className:"px-3 py-3 text-right text-sm text-zinc-700",children:r(e.impressions)})]},e.entityId)}e.s(["BreakdownTable",()=>i])},96242,e=>{"use strict";var t=e.i(15442),n=e.i(35560),s=e.i(30320);let a=[{value:"GOOGLE_ADS",label:"Google Ads"},{value:"META",label:"Meta"},{value:"TIKTOK",label:"TikTok"},{value:"LINKEDIN",label:"LinkedIn"}],l=[{label:"Last 7 days",days:7},{label:"Last 14 days",days:14},{label:"Last 30 days",days:30},{label:"Last 90 days",days:90}];function r(e){return e.toISOString().split("T")[0]}function i(e){let t=new Date,n=new Date;return n.setDate(n.getDate()-e+1),{start:r(n),end:r(t)}}function c(e){let r,c,o,d,x,m,h,u,p,g,j,b,f,v,y,k,N,w,z,C,S,L,D,_,M,$,T,F,A=(0,n.c)(69),{value:K,onChange:B}=e,[O,I]=(0,s.useState)(!1);A[0]!==B||A[1]!==K?(r=e=>{let{start:t,end:n}=i(e);B({...K,startDate:t,endDate:n})},A[0]=B,A[1]=K,A[2]=r):r=A[2];let R=r;A[3]!==B||A[4]!==K?(c=e=>{let t=K.channels.includes(e)?K.channels.filter(t=>t!==e):[...K.channels,e];B({...K,channels:t})},A[3]=B,A[4]=K,A[5]=c):c=A[5];let W=c;A[6]!==B||A[7]!==K?(o=()=>{B({...K,channels:[]})},A[6]=B,A[7]=K,A[8]=o):o=A[8];let G=o;A[9]!==R?(d=l.map(e=>(0,t.jsx)("button",{onClick:()=>R(e.days),className:"rounded-lg border border-zinc-200 bg-white px-3 py-1.5 text-sm text-zinc-700 hover:bg-zinc-50",children:e.label},e.days)),A[9]=R,A[10]=d):d=A[10],A[11]!==d?(x=(0,t.jsx)("div",{className:"flex items-center gap-2",children:d}),A[11]=d,A[12]=x):x=A[12],A[13]!==B||A[14]!==K?(m=e=>B({...K,startDate:e.target.value}),A[13]=B,A[14]=K,A[15]=m):m=A[15],A[16]!==m||A[17]!==K.startDate?(h=(0,t.jsx)("input",{type:"date",value:K.startDate,onChange:m,className:"rounded-lg border border-zinc-200 bg-white px-3 py-1.5 text-sm text-zinc-700"}),A[16]=m,A[17]=K.startDate,A[18]=h):h=A[18],A[19]===Symbol.for("react.memo_cache_sentinel")?(u=(0,t.jsx)("span",{className:"text-zinc-400",children:"to"}),A[19]=u):u=A[19],A[20]!==B||A[21]!==K?(p=e=>B({...K,endDate:e.target.value}),A[20]=B,A[21]=K,A[22]=p):p=A[22],A[23]!==p||A[24]!==K.endDate?(g=(0,t.jsx)("input",{type:"date",value:K.endDate,onChange:p,className:"rounded-lg border border-zinc-200 bg-white px-3 py-1.5 text-sm text-zinc-700"}),A[23]=p,A[24]=K.endDate,A[25]=g):g=A[25],A[26]!==g||A[27]!==h?(j=(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[h,u,g]}),A[26]=g,A[27]=h,A[28]=j):j=A[28],A[29]!==O?(b=()=>I(!O),A[29]=O,A[30]=b):b=A[30];let E=0===K.channels.length?"All Channels":`${K.channels.length} channel${K.channels.length>1?"s":""}`;return A[31]!==E?(f=(0,t.jsx)("span",{children:E}),A[31]=E,A[32]=f):f=A[32],A[33]===Symbol.for("react.memo_cache_sentinel")?(v=(0,t.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),A[33]=v):v=A[33],A[34]!==b||A[35]!==f?(y=(0,t.jsxs)("button",{onClick:b,className:"inline-flex items-center gap-2 rounded-lg border border-zinc-200 bg-white px-3 py-1.5 text-sm text-zinc-700 hover:bg-zinc-50",children:[f,v]}),A[34]=b,A[35]=f,A[36]=y):y=A[36],A[37]!==G||A[38]!==O||A[39]!==W||A[40]!==K.channels?(k=O&&(0,t.jsxs)("div",{className:"absolute left-0 top-full z-10 mt-1 w-48 rounded-lg border border-zinc-200 bg-white py-1 shadow-lg",children:[K.channels.length>0&&(0,t.jsx)("button",{onClick:G,className:"w-full px-3 py-2 text-left text-sm text-zinc-500 hover:bg-zinc-50",children:"Clear all"}),a.map(e=>(0,t.jsxs)("label",{className:"flex cursor-pointer items-center gap-2 px-3 py-2 hover:bg-zinc-50",children:[(0,t.jsx)("input",{type:"checkbox",checked:K.channels.includes(e.value),onChange:()=>W(e.value),className:"h-4 w-4 rounded border-zinc-300"}),(0,t.jsx)("span",{className:"text-sm text-zinc-700",children:e.label})]},e.value))]}),A[37]=G,A[38]=O,A[39]=W,A[40]=K.channels,A[41]=k):k=A[41],A[42]!==y||A[43]!==k?(N=(0,t.jsxs)("div",{className:"relative",children:[y,k]}),A[42]=y,A[43]=k,A[44]=N):N=A[44],A[45]!==B||A[46]!==K?(w=e=>B({...K,granularity:e.target.value}),A[45]=B,A[46]=K,A[47]=w):w=A[47],A[48]===Symbol.for("react.memo_cache_sentinel")?(z=(0,t.jsx)("option",{value:"day",children:"Daily"}),C=(0,t.jsx)("option",{value:"week",children:"Weekly"}),S=(0,t.jsx)("option",{value:"month",children:"Monthly"}),A[48]=z,A[49]=C,A[50]=S):(z=A[48],C=A[49],S=A[50]),A[51]!==w||A[52]!==K.granularity?(L=(0,t.jsxs)("select",{value:K.granularity,onChange:w,className:"rounded-lg border border-zinc-200 bg-white px-3 py-1.5 text-sm text-zinc-700",children:[z,C,S]}),A[51]=w,A[52]=K.granularity,A[53]=L):L=A[53],A[54]!==B||A[55]!==K?(D=e=>B({...K,breakdown:e.target.value}),A[54]=B,A[55]=K,A[56]=D):D=A[56],A[57]===Symbol.for("react.memo_cache_sentinel")?(_=(0,t.jsx)("option",{value:"platform",children:"By Channel"}),M=(0,t.jsx)("option",{value:"campaign",children:"By Campaign"}),$=(0,t.jsx)("option",{value:"ad",children:"By Ad"}),A[57]=_,A[58]=M,A[59]=$):(_=A[57],M=A[58],$=A[59]),A[60]!==D||A[61]!==K.breakdown?(T=(0,t.jsxs)("select",{value:K.breakdown,onChange:D,className:"rounded-lg border border-zinc-200 bg-white px-3 py-1.5 text-sm text-zinc-700",children:[_,M,$]}),A[60]=D,A[61]=K.breakdown,A[62]=T):T=A[62],A[63]!==j||A[64]!==N||A[65]!==L||A[66]!==T||A[67]!==x?(F=(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[x,j,N,L,T]}),A[63]=j,A[64]=N,A[65]=L,A[66]=T,A[67]=x,A[68]=F):F=A[68],F}function o(){let{start:e,end:t}=i(30);return{startDate:e,endDate:t,channels:[],granularity:"day",breakdown:"campaign"}}e.s(["DashboardFilters",()=>c,"getDefaultFilters",()=>o])},56935,e=>{"use strict";var t=e.i(15442),n=e.i(35560),s=e.i(30320),a=e.i(77608),l=e.i(61784),r=e.i(4443),i=e.i(96242);function c(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function o(e){return new Intl.NumberFormat("en-US").format(Math.round(e))}function d(e,t=!1){if(null===e||0===e)return"neutral";let n=e>0;return t?n?"down":"up":n?"up":"down"}function x(){var e;let[n,x]=(0,s.useState)(i.getDefaultFilters),[v,y]=(0,s.useState)(null),[k,N]=(0,s.useState)(!0),[w,z]=(0,s.useState)(null),C=(0,s.useCallback)(async()=>{N(!0),z(null);let e=new URLSearchParams({startDate:n.startDate,endDate:n.endDate,granularity:n.granularity,breakdown:n.breakdown});n.channels.length>0&&e.set("channels",n.channels.join(","));try{let t=await fetch(`/api/dashboard/roi?${e.toString()}`);if(!t.ok)throw Error("Failed to fetch dashboard data");let n=await t.json();y(n)}catch(e){z(e instanceof Error?e.message:"Unknown error")}finally{N(!1)}},[n]);(0,s.useEffect)(()=>{C()},[C]);let S="platform"===n.breakdown?"Channel":"campaign"===n.breakdown?"Campaign":"Ad";return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold tracking-tight",children:"ROI Dashboard"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-zinc-600",children:"Multi-touch attribution ROI, ROAS, CPA, and waste analysis"})]}),(0,t.jsx)(i.DashboardFilters,{value:n,onChange:x}),w&&(0,t.jsx)("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:w}),(0,t.jsxs)(a.KpiCardGrid,{children:[(0,t.jsx)(a.KpiCard,{title:"Total Spend",value:v?c(v.kpis.spend):"$0.00",change:v?.kpis.changes?.spend??null,changeLabel:"vs last period",trend:d(v?.kpis.changes?.spend??null),loading:k,icon:(0,t.jsx)(m,{})}),(0,t.jsx)(a.KpiCard,{title:"Attributed Revenue",value:v?c(v.kpis.revenue):"$0.00",change:v?.kpis.changes?.revenue??null,changeLabel:"vs last period",trend:d(v?.kpis.changes?.revenue??null),loading:k,icon:(0,t.jsx)(h,{})}),(0,t.jsx)(a.KpiCard,{title:"ROAS",value:v?.kpis.roas?`${v.kpis.roas.toFixed(2)}x`:"—",change:v?.kpis.changes?.roas??null,changeLabel:"vs last period",trend:d(v?.kpis.changes?.roas??null),loading:k,icon:(0,t.jsx)(u,{})}),(0,t.jsx)(a.KpiCard,{title:"CPA",value:v?.kpis.cpa?c(v.kpis.cpa):"—",change:v?.kpis.changes?.cpa??null,changeLabel:"vs last period",trend:d(v?.kpis.changes?.cpa??null,!0),loading:k,icon:(0,t.jsx)(p,{})})]}),(0,t.jsxs)(a.KpiCardGrid,{children:[(0,t.jsx)(a.KpiCard,{title:"Wasted Spend",value:v?c(v.kpis.wasteAmount):"$0.00",loading:k,icon:(0,t.jsx)(g,{})}),(0,t.jsx)(a.KpiCard,{title:"Waste %",value:v?(e=v.kpis.wastePercent,`${e.toFixed(1)}%`):"0.0%",change:v?.kpis.changes?.wastePercent??null,changeLabel:"vs last period",trend:d(v?.kpis.changes?.wastePercent??null,!0),loading:k,icon:(0,t.jsx)(j,{})}),(0,t.jsx)(a.KpiCard,{title:"Conversions",value:v?o(v.kpis.conversions):"0",change:v?.kpis.changes?.conversions??null,changeLabel:"vs last period",trend:d(v?.kpis.changes?.conversions??null),loading:k,icon:(0,t.jsx)(b,{})}),(0,t.jsx)(a.KpiCard,{title:"Clicks",value:v?o(v.kpis.clicks):"0",loading:k,icon:(0,t.jsx)(f,{})})]}),(0,t.jsxs)("div",{className:"rounded-xl border border-zinc-200 bg-white p-6",children:[(0,t.jsx)("h2",{className:"mb-4 text-sm font-medium text-zinc-900",children:"Trendlines"}),k?(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(e=>(0,t.jsx)("div",{className:"h-[180px] animate-pulse rounded-lg bg-zinc-100"},e))}):v?(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[(0,t.jsx)(l.TimeseriesChartCard,{title:"Spend",data:v.timeseries,metric:"spend",currentValue:c(v.kpis.spend),change:v.kpis.changes?.spend}),(0,t.jsx)(l.TimeseriesChartCard,{title:"Revenue",data:v.timeseries,metric:"revenue",currentValue:c(v.kpis.revenue),change:v.kpis.changes?.revenue}),(0,t.jsx)(l.TimeseriesChartCard,{title:"ROAS",data:v.timeseries,metric:"roas",currentValue:v.kpis.roas?`${v.kpis.roas.toFixed(2)}x`:"—",change:v.kpis.changes?.roas})]}):null]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"mb-4 text-sm font-medium text-zinc-900",children:["Breakdown by ",S]}),k?(0,t.jsx)("div",{className:"h-[300px] animate-pulse rounded-xl bg-zinc-100"}):v?(0,t.jsx)(r.BreakdownTable,{data:v.breakdown,entityLabel:S}):null]})]})}function m(){let e,s=(0,n.c)(1);return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s[0]=e):e=s[0],e}function h(){let e,s=(0,n.c)(1);return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),s[0]=e):e=s[0],e}function u(){let e,s=(0,n.c)(1);return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),s[0]=e):e=s[0],e}function p(){let e,s=(0,n.c)(1);return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),s[0]=e):e=s[0],e}function g(){let e,s=(0,n.c)(1);return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),s[0]=e):e=s[0],e}function j(){let e,s=(0,n.c)(1);return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),s[0]=e):e=s[0],e}function b(){let e,s=(0,n.c)(1);return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),s[0]=e):e=s[0],e}function f(){let e,s=(0,n.c)(1);return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"})}),s[0]=e):e=s[0],e}e.s(["RoiDashboardClient",()=>x],56935)}]);