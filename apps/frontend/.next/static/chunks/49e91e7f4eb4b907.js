(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87543,e=>{"use strict";var t=e.i(15442),n=e.i(35560),l=e.i(30320),r=e.i(37075);let s=[{key:"name",label:"Campaign",sortable:!0,align:"left",format:(e,n)=>(0,t.jsxs)("div",{children:[(0,t.jsx)(r.default,{href:`/app/campaigns/${n.id}`,className:"font-medium text-zinc-900 hover:text-zinc-700 hover:underline",children:n.name}),(0,t.jsx)("div",{className:"text-xs text-zinc-500",children:n.externalId})]})},{key:"platform",label:"Platform",sortable:!0,align:"left",format:(e,n)=>(0,t.jsxs)("span",{className:"inline-flex items-center gap-1.5",children:[(0,t.jsx)(x,{code:n.platformCode}),(0,t.jsx)("span",{children:n.platformName})]})},{key:"spend",label:"Spend",sortable:!0,align:"right",format:e=>a(e)},{key:"conversions",label:"Conv.",sortable:!0,align:"right",format:e=>i(e)},{key:"cpa",label:"CPA",sortable:!0,align:"right",format:e=>null!=e?a(e):"—"},{key:"roas",label:"ROAS",sortable:!0,align:"right",format:e=>null!=e?`${e.toFixed(2)}x`:"—"},{key:"impressions",label:"Impr.",sortable:!0,align:"right",format:e=>i(e)},{key:"clicks",label:"Clicks",sortable:!0,align:"right",format:e=>i(e)},{key:"ctr",label:"CTR",sortable:!0,align:"right",format:e=>null!=e?`${e.toFixed(2)}%`:"—"},{key:"actions",label:"",sortable:!1,align:"center",format:(e,n)=>(0,t.jsx)(r.default,{href:`/app/campaigns/${n.id}`,className:"text-zinc-500 hover:text-zinc-700",title:"View details",children:(0,t.jsx)(m,{})})}];function a(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function i(e){return new Intl.NumberFormat("en-US").format(e)}function c(e){let r,a,i,c,m,x,h,u,f=(0,n.c)(23),{data:p,initialSort:b,onSortChange:g}=e;f[0]!==b?(r=void 0===b?{field:"spend",direction:"desc"}:b,f[0]=b,f[1]=r):r=f[1];let j=r,[N,y]=(0,l.useState)(j);e:{if(!g){let e;if(f[2]!==p||f[3]!==N){let t;f[5]!==N?(t=(e,t)=>{let n=e[N.field],l=t[N.field];return null==n?1:null==l?-1:"string"==typeof n&&"string"==typeof l?"asc"===N.direction?n.localeCompare(l):l.localeCompare(n):"number"==typeof n&&"number"==typeof l?"asc"===N.direction?n-l:l-n:0},f[5]=N,f[6]=t):t=f[6],e=[...p].sort(t),f[2]=p,f[3]=N,f[4]=e}else e=f[4];a=e;break e}a=p}let k=a;f[7]!==g||f[8]!==N?(i=e=>{let t={field:e,direction:N.field===e&&"asc"===N.direction?"desc":"asc"};y(t),g?.(t)},f[7]=g,f[8]=N,f[9]=i):i=f[9];let v=i;if(0===p.length){let e;return f[10]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"rounded-xl border border-zinc-200 bg-white p-12 text-center",children:(0,t.jsx)("p",{className:"text-sm text-zinc-500",children:"No campaigns found"})}),f[10]=e):e=f[10],e}return f[11]!==v||f[12]!==N?(c=s.map(e=>(0,t.jsx)("th",{className:`px-4 py-3 font-medium text-zinc-600 ${"right"===e.align?"text-right":"center"===e.align?"text-center":"text-left"} ${e.sortable?"cursor-pointer select-none hover:bg-zinc-100":""}`,onClick:()=>e.sortable&&"actions"!==e.key&&v(e.key),children:(0,t.jsxs)("span",{className:"inline-flex items-center gap-1",children:[e.label,e.sortable&&"actions"!==e.key&&(0,t.jsx)(d,{active:N.field===e.key,direction:N.field===e.key?N.direction:void 0})]})},e.key)),f[11]=v,f[12]=N,f[13]=c):c=f[13],f[14]!==c?(m=(0,t.jsx)("thead",{children:(0,t.jsx)("tr",{className:"border-b border-zinc-200 bg-zinc-50",children:c})}),f[14]=c,f[15]=m):m=f[15],f[16]!==k?(x=k.map(o),f[16]=k,f[17]=x):x=f[17],f[18]!==x?(h=(0,t.jsx)("tbody",{children:x}),f[18]=x,f[19]=h):h=f[19],f[20]!==m||f[21]!==h?(u=(0,t.jsx)("div",{className:"overflow-hidden rounded-xl border border-zinc-200 bg-white",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[m,h]})})}),f[20]=m,f[21]=h,f[22]=u):u=f[22],u}function o(e){return(0,t.jsx)("tr",{className:`border-b border-zinc-100 transition-colors hover:bg-zinc-50 ${function(e){switch(e){case"critical":return"bg-red-50 border-l-4 border-l-red-500";case"high":return"bg-orange-50 border-l-4 border-l-orange-500";case"medium":return"bg-yellow-50 border-l-4 border-l-yellow-500";case"low":return"bg-amber-50 border-l-4 border-l-amber-400";default:return""}}(e.wasteLevel)}`,children:s.map(n=>(0,t.jsx)("td",{className:`px-4 py-3 ${"right"===n.align?"text-right":"center"===n.align?"text-center":"text-left"}`,children:n.format?n.format(e[n.key],e):String(e[n.key]??"")},n.key))},e.id)}function d(e){let l,r,s=(0,n.c)(5),{active:a,direction:i}=e,c=`h-4 w-4 ${a?"text-zinc-900":"text-zinc-400"}`;return s[0]!==i?(l="asc"===i?(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"}):"desc"===i?(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"}):(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"}),s[0]=i,s[1]=l):l=s[1],s[2]!==c||s[3]!==l?(r=(0,t.jsx)("svg",{className:c,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l}),s[2]=c,s[3]=l,s[4]=r):r=s[4],r}function m(){let e,l=(0,n.c)(1);return l[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),l[0]=e):e=l[0],e}function x(e){let l,r,s,a=(0,n.c)(5),{code:i}=e;a[0]===Symbol.for("react.memo_cache_sentinel")?(l={GOOGLE_ADS:"bg-blue-500",META:"bg-indigo-500",TIKTOK:"bg-pink-500",LINKEDIN:"bg-sky-600"},a[0]=l):l=a[0];let c=l;a[1]===Symbol.for("react.memo_cache_sentinel")?(r={GOOGLE_ADS:"G",META:"M",TIKTOK:"T",LINKEDIN:"L"},a[1]=r):r=a[1];let o=r,d=`inline-flex h-5 w-5 items-center justify-center rounded text-xs font-bold text-white ${c[i]??"bg-zinc-500"}`,m=o[i]??"?";return a[2]!==d||a[3]!==m?(s=(0,t.jsx)("span",{className:d,children:m}),a[2]=d,a[3]=m,a[4]=s):s=a[4],s}function h(e){let r,s,a,i,c,o,d,m,x,h,g,j,N,y,k=(0,n.c)(37),{platforms:v,selectedPlatforms:w,onPlatformChange:z,search:_,onSearchChange:C}=e,[S,L]=(0,l.useState)(!1);k[0]!==z||k[1]!==w?(r=e=>{w.includes(e)?z(w.filter(t=>t!==e)):z([...w,e])},k[0]=z,k[1]=w,k[2]=r):r=k[2];let M=r;k[3]!==z?(s=()=>{z([])},k[3]=z,k[4]=s):s=k[4];let T=s;return k[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)(u,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-zinc-400"}),k[5]=a):a=k[5],k[6]!==C?(i=e=>C(e.target.value),k[6]=C,k[7]=i):i=k[7],k[8]!==_||k[9]!==i?(c=(0,t.jsxs)("div",{className:"relative flex-1 sm:max-w-xs",children:[a,(0,t.jsx)("input",{type:"text",placeholder:"Search campaigns...",value:_,onChange:i,className:"w-full rounded-lg border border-zinc-200 py-2 pl-9 pr-3 text-sm outline-none focus:border-zinc-400"})]}),k[8]=_,k[9]=i,k[10]=c):c=k[10],k[11]!==S?(o=()=>L(!S),k[11]=S,k[12]=o):o=k[12],k[13]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)(f,{className:"h-4 w-4"}),k[13]=d):d=k[13],k[14]!==w.length?(m=w.length>0&&(0,t.jsx)("span",{className:"rounded-full bg-zinc-900 px-1.5 py-0.5 text-xs text-white",children:w.length}),k[14]=w.length,k[15]=m):m=k[15],k[16]===Symbol.for("react.memo_cache_sentinel")?(x=(0,t.jsx)(p,{className:"h-4 w-4"}),k[16]=x):x=k[16],k[17]!==o||k[18]!==m?(h=(0,t.jsxs)("button",{onClick:o,className:"inline-flex items-center gap-2 rounded-lg border border-zinc-200 bg-white px-3 py-2 text-sm font-medium text-zinc-700 hover:bg-zinc-50",children:[d,"Platform",m,x]}),k[17]=o,k[18]=m,k[19]=h):h=k[19],k[20]!==T||k[21]!==v||k[22]!==w||k[23]!==S||k[24]!==M?(g=S&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>L(!1)}),(0,t.jsx)("div",{className:"absolute left-0 z-20 mt-2 w-56 rounded-lg border border-zinc-200 bg-white py-1 shadow-lg",children:v.length>0?(0,t.jsxs)(t.Fragment,{children:[v.map(e=>(0,t.jsxs)("label",{className:"flex cursor-pointer items-center gap-3 px-4 py-2 hover:bg-zinc-50",children:[(0,t.jsx)("input",{type:"checkbox",checked:w.includes(e.code),onChange:()=>M(e.code),className:"h-4 w-4 rounded border-zinc-300"}),(0,t.jsx)("span",{className:"flex-1 text-sm text-zinc-700",children:e.name}),(0,t.jsx)("span",{className:"text-xs text-zinc-500",children:e.count})]},e.code)),w.length>0&&(0,t.jsx)("div",{className:"border-t border-zinc-100 px-4 py-2",children:(0,t.jsx)("button",{onClick:T,className:"text-sm text-zinc-600 hover:text-zinc-900",children:"Clear all"})})]}):(0,t.jsx)("p",{className:"px-4 py-2 text-sm text-zinc-500",children:"No platforms"})})]}),k[20]=T,k[21]=v,k[22]=w,k[23]=S,k[24]=M,k[25]=g):g=k[25],k[26]!==h||k[27]!==g?(j=(0,t.jsxs)("div",{className:"relative",children:[h,g]}),k[26]=h,k[27]=g,k[28]=j):j=k[28],k[29]!==v||k[30]!==w||k[31]!==M?(N=w.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:w.map(e=>{let n=v.find(t=>t.code===e);return(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full bg-zinc-100 px-2.5 py-1 text-xs font-medium text-zinc-700",children:[n?.name??e,(0,t.jsx)("button",{onClick:()=>M(e),className:"ml-0.5 text-zinc-500 hover:text-zinc-700",children:(0,t.jsx)(b,{className:"h-3 w-3"})})]},e)})}),k[29]=v,k[30]=w,k[31]=M,k[32]=N):N=k[32],k[33]!==j||k[34]!==N||k[35]!==c?(y=(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[c,j,N]}),k[33]=j,k[34]=N,k[35]=c,k[36]=y):y=k[36],y}function u(e){let l,r,s=(0,n.c)(3),{className:a}=e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}),s[0]=l):l=s[0],s[1]!==a?(r=(0,t.jsx)("svg",{className:a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l}),s[1]=a,s[2]=r):r=s[2],r}function f(e){let l,r,s=(0,n.c)(3),{className:a}=e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"}),s[0]=l):l=s[0],s[1]!==a?(r=(0,t.jsx)("svg",{className:a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l}),s[1]=a,s[2]=r):r=s[2],r}function p(e){let l,r,s=(0,n.c)(3),{className:a}=e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"}),s[0]=l):l=s[0],s[1]!==a?(r=(0,t.jsx)("svg",{className:a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l}),s[1]=a,s[2]=r):r=s[2],r}function b(e){let l,r,s=(0,n.c)(3),{className:a}=e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}),s[0]=l):l=s[0],s[1]!==a?(r=(0,t.jsx)("svg",{className:a,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l}),s[1]=a,s[2]=r):r=s[2],r}function g(e){let r,s,a,i,o,d,m,x,u,f,p,b,g,y,k,v=(0,n.c)(35),{initialData:w,platforms:z,total:_}=e,[C,S]=(0,l.useState)("");v[0]===Symbol.for("react.memo_cache_sentinel")?(r=[],v[0]=r):r=v[0];let[L,M]=(0,l.useState)(r);if(v[1]!==w||v[2]!==C||v[3]!==L){if(s=w,L.length>0){let e;v[5]!==L?(e=e=>L.includes(e.platformCode),v[5]=L,v[6]=e):e=v[6],s=s.filter(e)}if(C.trim()){let e=C.toLowerCase();s=s.filter(t=>t.name.toLowerCase().includes(e)||t.externalId.toLowerCase().includes(e))}v[1]=w,v[2]=C,v[3]=L,v[4]=s}else s=v[4];let T=s;v[7]!==T?(a=(i=T.filter(N)).reduce(j,0),v[7]=T,v[8]=a,v[9]=i):(a=v[8],i=v[9]);let I=a;v[10]!==I||v[11]!==i.length?(o={count:i.length,totalWasted:I},v[10]=I,v[11]=i.length,v[12]=o):o=v[12];let W=o;return v[13]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)("h1",{className:"text-2xl font-semibold tracking-tight",children:"Campaigns"}),v[13]=d):d=v[13],v[14]!==W.count||v[15]!==W.totalWasted?(m=W.count>0&&(0,t.jsxs)("span",{className:"ml-2 text-amber-600",children:["• ",W.count," with waste alerts ($",W.totalWasted.toFixed(2),")"]}),v[14]=W.count,v[15]=W.totalWasted,v[16]=m):m=v[16],v[17]!==T.length||v[18]!==m||v[19]!==_?(x=(0,t.jsx)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:(0,t.jsxs)("div",{children:[d,(0,t.jsxs)("p",{className:"mt-1 text-sm text-zinc-600",children:[T.length," of ",_," campaigns",m]})]})}),v[17]=T.length,v[18]=m,v[19]=_,v[20]=x):x=v[20],v[21]!==z||v[22]!==C||v[23]!==L?(u=(0,t.jsx)(h,{platforms:z,selectedPlatforms:L,onPlatformChange:M,search:C,onSearchChange:S}),v[21]=z,v[22]=C,v[23]=L,v[24]=u):u=v[24],v[25]===Symbol.for("react.memo_cache_sentinel")?(f=(0,t.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("span",{className:"h-3 w-1 rounded-full bg-red-500"}),"Critical waste"]}),v[25]=f):f=v[25],v[26]===Symbol.for("react.memo_cache_sentinel")?(p=(0,t.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("span",{className:"h-3 w-1 rounded-full bg-orange-500"}),"High waste"]}),v[26]=p):p=v[26],v[27]===Symbol.for("react.memo_cache_sentinel")?(b=(0,t.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("span",{className:"h-3 w-1 rounded-full bg-yellow-500"}),"Medium waste"]}),v[27]=b):b=v[27],v[28]===Symbol.for("react.memo_cache_sentinel")?(g=(0,t.jsxs)("div",{className:"flex items-center gap-4 text-xs text-zinc-500",children:[f,p,b,(0,t.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("span",{className:"h-3 w-1 rounded-full bg-amber-400"}),"Low waste"]})]}),v[28]=g):g=v[28],v[29]!==T?(y=(0,t.jsxs)("div",{className:"space-y-2",children:[g,(0,t.jsx)(c,{data:T})]}),v[29]=T,v[30]=y):y=v[30],v[31]!==y||v[32]!==x||v[33]!==u?(k=(0,t.jsxs)("div",{className:"space-y-6",children:[x,u,y]}),v[31]=y,v[32]=x,v[33]=u,v[34]=k):k=v[34],k}function j(e,t){return e+t.wastedSpend}function N(e){return"none"!==e.wasteLevel}e.s(["CampaignsPageClient",()=>g],87543)}]);