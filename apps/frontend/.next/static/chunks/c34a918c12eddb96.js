(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,68774,e=>{"use strict";var t=e.i(15442),s=e.i(35560),n=e.i(30320);let a=[{value:"7d",label:"Last 7 days"},{value:"14d",label:"Last 14 days"},{value:"30d",label:"Last 30 days"},{value:"90d",label:"Last 90 days"}];function l(e){let l,r,i,o,c,d,m,x,p,u,h=(0,s.c)(31),{value:f,onChange:b,customRange:g,onCustomRangeChange:v}=e,[j,y]=(0,n.useState)(!1);h[0]!==g?.start?(l=g?.start.toISOString().split("T")[0]??"",h[0]=g?.start,h[1]=l):l=h[1];let[N,z]=(0,n.useState)(l);h[2]!==g?.end?(r=g?.end.toISOString().split("T")[0]??"",h[2]=g?.end,h[3]=r):r=h[3];let[S,C]=(0,n.useState)(r);h[4]!==b?(i=e=>{"custom"===e?y(!0):(y(!1),b(e))},h[4]=b,h[5]=i):i=h[5];let w=i;h[6]!==b||h[7]!==v||h[8]!==S||h[9]!==N?(o=()=>{if(N&&S&&v){let e=new Date(N);e.setHours(0,0,0,0);let t=new Date(S);t.setHours(23,59,59,999),v({start:e,end:t}),b("custom"),y(!1)}},h[6]=b,h[7]=v,h[8]=S,h[9]=N,h[10]=o):o=h[10];let k=o;h[11]!==w||h[12]!==j||h[13]!==f?(c=a.map(e=>(0,t.jsx)("button",{onClick:()=>w(e.value),className:`rounded-lg px-3 py-1.5 text-sm font-medium transition-colors ${f===e.value&&!j?"bg-zinc-900 text-white":"bg-zinc-100 text-zinc-700 hover:bg-zinc-200"}`,children:e.label},e.value)),h[11]=w,h[12]=j,h[13]=f,h[14]=c):c=h[14],h[15]!==j?(d=()=>y(!j),h[15]=j,h[16]=d):d=h[16];let _=`rounded-lg px-3 py-1.5 text-sm font-medium transition-colors ${"custom"===f?"bg-zinc-900 text-white":"bg-zinc-100 text-zinc-700 hover:bg-zinc-200"}`;return h[17]!==d||h[18]!==_?(m=(0,t.jsx)("button",{onClick:d,className:_,children:"Custom"}),h[17]=d,h[18]=_,h[19]=m):m=h[19],h[20]!==k||h[21]!==j||h[22]!==S||h[23]!==N?(x=j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>y(!1)}),(0,t.jsx)("div",{className:"absolute right-0 z-20 mt-2 w-72 rounded-lg border border-zinc-200 bg-white p-4 shadow-lg",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-zinc-600",children:"Start Date"}),(0,t.jsx)("input",{type:"date",value:N,onChange:e=>z(e.target.value),className:"mt-1 w-full rounded-lg border border-zinc-200 px-3 py-2 text-sm outline-none focus:border-zinc-400"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-zinc-600",children:"End Date"}),(0,t.jsx)("input",{type:"date",value:S,onChange:e=>C(e.target.value),className:"mt-1 w-full rounded-lg border border-zinc-200 px-3 py-2 text-sm outline-none focus:border-zinc-400"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)("button",{onClick:()=>y(!1),className:"rounded-lg px-3 py-1.5 text-sm font-medium text-zinc-600 hover:bg-zinc-100",children:"Cancel"}),(0,t.jsx)("button",{onClick:k,disabled:!N||!S,className:"rounded-lg bg-zinc-900 px-3 py-1.5 text-sm font-medium text-white hover:bg-zinc-800 disabled:opacity-50",children:"Apply"})]})]})})]}),h[20]=k,h[21]=j,h[22]=S,h[23]=N,h[24]=x):x=h[24],h[25]!==m||h[26]!==x?(p=(0,t.jsxs)("div",{className:"relative",children:[m,x]}),h[25]=m,h[26]=x,h[27]=p):p=h[27],h[28]!==p||h[29]!==c?(u=(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[c,p]}),h[28]=p,h[29]=c,h[30]=u):u=h[30],u}let r={GOOGLE_ADS:"#4285F4",META:"#1877F2",TIKTOK:"#FF0050",LINKEDIN:"#0A66C2"};function i(e){var n,a;let l,i,d,p,u,h,f,b,g,v,j,y,N,z,S,C,w,k,_,$,D,F,T,O,A=(0,s.c)(92),{data:L,platformData:M,showPlatformOverlay:P,height:E}=e,I=void 0!==P&&P,K=void 0===E?300:E;e:{let e,t,s,n;if(0===L.length){l=null;break e}A[0]!==L?(e=Math.max(...L.map(x),1),A[0]=L,A[1]=e):e=A[1];let a=e;A[2]!==L?(t=Math.max(...L.map(m),1),A[2]=L,A[3]=t):t=A[3];let r=t,i=.1*a,o=.1*r;if(A[4]!==o||A[5]!==L||A[6]!==r||A[7]!==a||A[8]!==i){let e;A[10]!==o||A[11]!==r||A[12]!==a||A[13]!==i?(e=e=>({...e,spendNorm:e.spend/(a+i),convNorm:e.conversions/(r+o)}),A[10]=o,A[11]=r,A[12]=a,A[13]=i,A[14]=e):e=A[14],s=L.map(e),A[4]=o,A[5]=L,A[6]=r,A[7]=a,A[8]=i,A[9]=s}else s=A[9];let c=s,d=a+i,p=r+o;A[15]!==c||A[16]!==d||A[17]!==p?(n={points:c,maxSpend:d,maxConversions:p},A[15]=c,A[16]=d,A[17]=p,A[18]=n):n=A[18],l=n}let B=l;t:{let e,t;if(!M||!I){i=null;break t}A[19]!==M?(e=Math.max(...M.flatMap(c),1),A[19]=M,A[20]=e):e=A[20];let s=e;if(A[21]!==s||A[22]!==M){let e;A[24]!==s?(e=e=>({...e,normalizedData:e.data.map(e=>({...e,spendNorm:e.spend/(1.1*s)}))}),A[24]=s,A[25]=e):e=A[25],t=M.map(e),A[21]=s,A[22]=M,A[23]=t}else t=A[23];i=t}let G=i;if(!B||0===L.length){let e,s,n;return A[26]!==K?(e={height:K},A[26]=K,A[27]=e):e=A[27],A[28]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("p",{className:"text-sm text-zinc-500",children:"No data available"}),A[28]=s):s=A[28],A[29]!==e?(n=(0,t.jsx)("div",{className:"flex items-center justify-center rounded-xl border border-zinc-200 bg-white",style:e,children:s}),A[29]=e,A[30]=n):n=A[30],n}A[31]===Symbol.for("react.memo_cache_sentinel")?(d={top:10,right:10,bottom:20,left:10},A[31]=d):d=A[31];let R=d,U=100-R.left-R.right,W=100-R.top-R.bottom,H=U/Math.max(B.points.length-1,1);if(A[32]!==B.points||A[33]!==H){let e;A[35]!==H?(e=(e,t)=>{let s=R.left+t*H,n=R.top+W*(1-e.spendNorm);return`${0===t?"M":"L"} ${s} ${n}`},A[35]=H,A[36]=e):e=A[36],p=B.points.map(e).join(" "),A[32]=B.points,A[33]=H,A[34]=p}else p=A[34];let Z=p;if(A[37]!==B.points||A[38]!==H){let e;A[40]!==H?(e=(e,t)=>{let s=R.left+t*H,n=R.top+W*(1-e.convNorm);return`${0===t?"M":"L"} ${s} ${n}`},A[40]=H,A[41]=e):e=A[41],u=B.points.map(e).join(" "),A[37]=B.points,A[38]=H,A[39]=u}else u=A[39];let q=u,J=Z+` L ${R.left+(B.points.length-1)*H} ${R.top+W}`+` L ${R.left} ${R.top+W} Z`;if((A[42]===Symbol.for("react.memo_cache_sentinel")?(h=(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"h-3 w-3 rounded-full bg-blue-500"}),(0,t.jsx)("span",{className:"text-xs text-zinc-600",children:"Spend"})]}),A[42]=h):h=A[42],A[43]===Symbol.for("react.memo_cache_sentinel")?(f=(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[h,(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"h-3 w-3 rounded-full bg-green-500"}),(0,t.jsx)("span",{className:"text-xs text-zinc-600",children:"Conversions"})]})]}),A[43]=f):f=A[43],A[44]!==B.maxSpend)?(b=(n=B.maxSpend)>=1e6?`$${(n/1e6).toFixed(1)}M`:n>=1e3?`$${(n/1e3).toFixed(1)}K`:`$${n.toFixed(0)}`,A[44]=B.maxSpend,A[45]=b):b=A[45],(A[46]!==b?(g=(0,t.jsxs)("span",{children:["Max: ",b]}),A[46]=b,A[47]=g):g=A[47],A[48]!==B.maxConversions)?(v=(a=B.maxConversions)>=1e6?`${(a/1e6).toFixed(1)}M`:a>=1e3?`${(a/1e3).toFixed(1)}K`:a.toFixed(0),A[48]=B.maxConversions,A[49]=v):v=A[49],A[50]!==v?(j=(0,t.jsxs)("span",{children:["Max: ",v," conv"]}),A[50]=v,A[51]=j):j=A[51],A[52]!==g||A[53]!==j?(y=(0,t.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[f,(0,t.jsxs)("div",{className:"flex items-center gap-4 text-xs text-zinc-500",children:[g,j]})]}),A[52]=g,A[53]=j,A[54]=y):y=A[54],A[55]!==K?(N={height:K},A[55]=K,A[56]=N):N=A[56],A[57]===Symbol.for("react.memo_cache_sentinel")?(z=(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"spendGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#3B82F6",stopOpacity:"0.3"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#3B82F6",stopOpacity:"0.05"})]})}),S=[0,.25,.5,.75,1].map(e=>(0,t.jsx)("line",{x1:R.left,y1:R.top+W*e,x2:R.left+U,y2:R.top+W*e,stroke:"#e4e4e7",strokeWidth:"0.5"},e)),A[57]=z,A[58]=S):(z=A[57],S=A[58]),A[59]!==J?(C=(0,t.jsx)("path",{d:J,fill:"url(#spendGradient)"}),A[59]=J,A[60]=C):C=A[60],A[61]!==Z?(w=(0,t.jsx)("path",{d:Z,fill:"none",stroke:"#3B82F6",strokeWidth:"2",vectorEffect:"non-scaling-stroke"}),A[61]=Z,A[62]=w):w=A[62],A[63]!==q?(k=(0,t.jsx)("path",{d:q,fill:"none",stroke:"#22C55E",strokeWidth:"2",vectorEffect:"non-scaling-stroke"}),A[63]=q,A[64]=k):k=A[64],A[65]!==G||A[66]!==I||A[67]!==H?(_=I&&G?.map(e=>{let s=e.normalizedData.map((e,t)=>{let s=R.left+t*H,n=R.top+W*(1-e.spendNorm);return`${0===t?"M":"L"} ${s} ${n}`}).join(" ");return(0,t.jsx)("path",{d:s,fill:"none",stroke:r[e.platformCode]??"#6B7280",strokeWidth:"1.5",strokeDasharray:"4 2",vectorEffect:"non-scaling-stroke",opacity:"0.7"},e.platformCode)}),A[65]=G,A[66]=I,A[67]=H,A[68]=_):_=A[68],A[69]!==B.points||A[70]!==H){let e;A[72]!==H?(e=(e,s)=>{let n=R.left+s*H,a=R.top+W*(1-e.spendNorm),l=R.top+W*(1-e.convNorm);return(0,t.jsxs)("g",{children:[(0,t.jsx)("circle",{cx:n,cy:a,r:"1.5",fill:"#3B82F6",className:"hover:r-3 transition-all"}),(0,t.jsx)("circle",{cx:n,cy:l,r:"1.5",fill:"#22C55E",className:"hover:r-3 transition-all"})]},e.date)},A[72]=H,A[73]=e):e=A[73],$=B.points.map(e),A[69]=B.points,A[70]=H,A[71]=$}else $=A[71];return A[74]!==B.points||A[75]!==H?(D=B.points.length<=31&&B.points.filter((e,t)=>t%Math.ceil(B.points.length/7)==0).map((e,s,n)=>{let a=B.points.findIndex(t=>t.date===e.date),l=R.left+a*H,r=new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"});return(0,t.jsx)("text",{x:l,y:98,textAnchor:0===s?"start":s===n.length-1?"end":"middle",className:"fill-zinc-500",style:{fontSize:"3px"},children:r},e.date)}),A[74]=B.points,A[75]=H,A[76]=D):D=A[76],A[77]!==N||A[78]!==C||A[79]!==w||A[80]!==k||A[81]!==_||A[82]!==$||A[83]!==D?(F=(0,t.jsxs)("svg",{viewBox:"0 0 100 100",className:"w-full",style:N,preserveAspectRatio:"none",children:[z,S,C,w,k,_,$,D]}),A[77]=N,A[78]=C,A[79]=w,A[80]=k,A[81]=_,A[82]=$,A[83]=D,A[84]=F):F=A[84],A[85]!==M||A[86]!==I?(T=I&&M&&M.length>0&&(0,t.jsxs)("div",{className:"mt-3 flex flex-wrap items-center gap-3 border-t border-zinc-100 pt-3",children:[(0,t.jsx)("span",{className:"text-xs text-zinc-500",children:"Platforms:"}),M.map(o)]}),A[85]=M,A[86]=I,A[87]=T):T=A[87],A[88]!==y||A[89]!==F||A[90]!==T?(O=(0,t.jsxs)("div",{className:"rounded-xl border border-zinc-200 bg-white p-4",children:[y,F,T]}),A[88]=y,A[89]=F,A[90]=T,A[91]=O):O=A[91],O}function o(e){return(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("span",{className:"h-2 w-4 rounded-sm",style:{backgroundColor:r[e.platformCode]??"#6B7280"}}),(0,t.jsx)("span",{className:"text-xs text-zinc-600",children:e.platformName})]},e.platformCode)}function c(e){return e.data.map(d)}function d(e){return e.spend}function m(e){return e.conversions}function x(e){return e.spend}function p(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function u(e){return new Intl.NumberFormat("en-US").format(e)}function h(e){let a,r,o,c,d,m,x,h,b,g,j,y,N,z,S,C,w,k,_,$,D,F,T,O=(0,s.c)(53),{initialData:A,initialDateRange:L}=e,[M,P]=(0,n.useState)("30d");O[0]!==L.start?(a=new Date(L.start),O[0]=L.start,O[1]=a):a=O[1],O[2]!==L.end?(r=new Date(L.end),O[2]=L.end,O[3]=r):r=O[3],O[4]!==a||O[5]!==r?(o={start:a,end:r},O[4]=a,O[5]=r,O[6]=o):o=O[6];let[E,I]=(0,n.useState)(o),[K,B]=(0,n.useState)(!0),[G]=(0,n.useState)(A);return O[7]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold tracking-tight",children:"Analytics"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-zinc-600",children:"Spend and conversion trends over time"})]})}),O[7]=c):c=O[7],O[8]!==E||O[9]!==M?(d=(0,t.jsx)(l,{value:M,onChange:P,customRange:E,onCustomRangeChange:I}),O[8]=E,O[9]=M,O[10]=d):d=O[10],O[11]===Symbol.for("react.memo_cache_sentinel")?(m=e=>B(e.target.checked),O[11]=m):m=O[11],O[12]!==K?(x=(0,t.jsx)("input",{type:"checkbox",checked:K,onChange:m,className:"h-4 w-4 rounded border-zinc-300"}),O[12]=K,O[13]=x):x=O[13],O[14]===Symbol.for("react.memo_cache_sentinel")?(h=(0,t.jsx)("span",{className:"text-sm text-zinc-600",children:"Show platform breakdown"}),O[14]=h):h=O[14],O[15]!==x?(b=(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[x,h]}),O[15]=x,O[16]=b):b=O[16],O[17]!==d||O[18]!==b?(g=(0,t.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[d,b]}),O[17]=d,O[18]=b,O[19]=g):g=O[19],O[20]!==G.summary.totalSpend?(j=p(G.summary.totalSpend),O[20]=G.summary.totalSpend,O[21]=j):j=O[21],O[22]!==j?(y=(0,t.jsx)(v,{label:"Total Spend",value:j}),O[22]=j,O[23]=y):y=O[23],O[24]!==G.summary.totalConversions?(N=u(G.summary.totalConversions),O[24]=G.summary.totalConversions,O[25]=N):N=O[25],O[26]!==N?(z=(0,t.jsx)(v,{label:"Total Conversions",value:N}),O[26]=N,O[27]=z):z=O[27],O[28]!==G.summary.avgCpa?(S=G.summary.avgCpa?p(G.summary.avgCpa):"—",O[28]=G.summary.avgCpa,O[29]=S):S=O[29],O[30]!==S?(C=(0,t.jsx)(v,{label:"Average CPA",value:S}),O[30]=S,O[31]=C):C=O[31],O[32]!==G.summary.totalRevenue?(w=p(G.summary.totalRevenue),O[32]=G.summary.totalRevenue,O[33]=w):w=O[33],O[34]!==w?(k=(0,t.jsx)(v,{label:"Total Revenue",value:w}),O[34]=w,O[35]=k):k=O[35],O[36]!==y||O[37]!==z||O[38]!==C||O[39]!==k?(_=(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[y,z,C,k]}),O[36]=y,O[37]=z,O[38]=C,O[39]=k,O[40]=_):_=O[40],O[41]===Symbol.for("react.memo_cache_sentinel")?($=(0,t.jsx)("h2",{className:"mb-3 text-sm font-medium text-zinc-900",children:"Spend vs Conversions"}),O[41]=$):$=O[41],O[42]!==G.byPlatform||O[43]!==G.total||O[44]!==K?(D=(0,t.jsxs)("div",{children:[$,(0,t.jsx)(i,{data:G.total,platformData:G.byPlatform,showPlatformOverlay:K,height:350})]}),O[42]=G.byPlatform,O[43]=G.total,O[44]=K,O[45]=D):D=O[45],O[46]!==G.byPlatform?(F=G.byPlatform.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"mb-3 text-sm font-medium text-zinc-900",children:"Platform Breakdown"}),(0,t.jsx)("div",{className:"grid gap-4 lg:grid-cols-2",children:G.byPlatform.map(f)})]}),O[46]=G.byPlatform,O[47]=F):F=O[47],O[48]!==g||O[49]!==_||O[50]!==D||O[51]!==F?(T=(0,t.jsxs)("div",{className:"space-y-6",children:[c,g,_,D,F]}),O[48]=g,O[49]=_,O[50]=D,O[51]=F,O[52]=T):T=O[52],T}function f(e){let s=e.data.reduce(g,0),n=e.data.reduce(b,0),a=n>0?s/n:null;return(0,t.jsxs)("div",{className:"rounded-xl border border-zinc-200 bg-white p-4",children:[(0,t.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(j,{code:e.platformCode}),(0,t.jsx)("span",{className:"font-medium",children:e.platformName})]}),(0,t.jsxs)("div",{className:"text-right text-xs text-zinc-500",children:[(0,t.jsxs)("div",{children:[p(s)," spend"]}),(0,t.jsxs)("div",{children:[u(n)," conv"]})]})]}),(0,t.jsx)(i,{data:e.data,height:150,showPlatformOverlay:!1}),(0,t.jsxs)("div",{className:"mt-2 text-center text-xs text-zinc-500",children:["CPA: ",a?p(a):"—"]})]},e.platformCode)}function b(e,t){return e+t.conversions}function g(e,t){return e+t.spend}function v(e){let n,a,l,r=(0,s.c)(7),{label:i,value:o}=e;return r[0]!==i?(n=(0,t.jsx)("p",{className:"text-xs font-medium text-zinc-500",children:i}),r[0]=i,r[1]=n):n=r[1],r[2]!==o?(a=(0,t.jsx)("p",{className:"mt-1 text-xl font-semibold tracking-tight",children:o}),r[2]=o,r[3]=a):a=r[3],r[4]!==n||r[5]!==a?(l=(0,t.jsxs)("div",{className:"rounded-xl border border-zinc-200 bg-white p-4",children:[n,a]}),r[4]=n,r[5]=a,r[6]=l):l=r[6],l}function j(e){let n,a,l,r=(0,s.c)(5),{code:i}=e;r[0]===Symbol.for("react.memo_cache_sentinel")?(n={GOOGLE_ADS:"bg-blue-500",META:"bg-indigo-500",TIKTOK:"bg-pink-500",LINKEDIN:"bg-sky-600"},r[0]=n):n=r[0];let o=n;r[1]===Symbol.for("react.memo_cache_sentinel")?(a={GOOGLE_ADS:"G",META:"M",TIKTOK:"T",LINKEDIN:"L"},r[1]=a):a=r[1];let c=a,d=`inline-flex h-6 w-6 items-center justify-center rounded text-xs font-bold text-white ${o[i]??"bg-zinc-500"}`,m=c[i]??"?";return r[2]!==d||r[3]!==m?(l=(0,t.jsx)("span",{className:d,children:m}),r[2]=d,r[3]=m,r[4]=l):l=r[4],l}e.s(["AnalyticsPageClient",()=>h],68774)}]);