(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,97312,(e,t,s)=>{t.exports=e.r(13107)},75476,e=>{"use strict";var t=e.i(15442),s=e.i(35560),a=e.i(30320),r=e.i(97312);function l({userId:e,userName:s,onComplete:r,onSkip:l}){let[i,n]=(0,a.useState)(s?`${s}'s Organization`:""),[d,o]=(0,a.useState)(!1),[c,m]=(0,a.useState)(""),x=async e=>{e.preventDefault(),o(!0),m("");try{let e=await fetch("/api/organizations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i})});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to create organization")}let t=await e.json();r(t.organization.id)}catch(e){m(e.message),o(!1)}};return(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Create Your Organization"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"Let's start by setting up your workspace. You can invite team members later."})]}),(0,t.jsxs)("form",{onSubmit:x,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Organization Name"}),(0,t.jsx)("input",{type:"text",id:"name",value:i,onChange:e=>n(e.target.value),placeholder:"Acme Inc.",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"This will be visible to your team members"})]}),c&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,t.jsx)("p",{className:"text-sm text-red-800",children:c})}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,t.jsx)("button",{type:"button",onClick:l,className:"text-sm text-gray-600 hover:text-gray-900",children:"Skip for now"}),(0,t.jsx)("button",{type:"submit",disabled:d||!i.trim(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Creating...":"Continue"})]})]})]})}function i({organizationId:e,onComplete:s,onSkip:r}){let[l,i]=(0,a.useState)(""),[n,d]=(0,a.useState)(""),[o,c]=(0,a.useState)(!1),[m,x]=(0,a.useState)(""),[u,h]=(0,a.useState)(null),[g,p]=(0,a.useState)(null),[b,j]=(0,a.useState)(!1),f=async t=>{t.preventDefault(),c(!0),x("");try{let t=await fetch("/api/tracking-sites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({organizationId:e,name:l,domain:n})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to create tracking site")}let s=await t.json();h(s.site.id),p(s.site.publicKey)}catch(e){x(e.message)}finally{c(!1)}},y=()=>`<!-- Optiq Tracking -->
<script>
  (function() {
    window.optiq = window.optiq || [];
    window.optiq.push(['init', '${g}']);
    
    var script = document.createElement('script');
    script.src = '${window.location.origin}/track.js';
    script.async = true;
    document.head.appendChild(script);
  })();
</script>`;return u&&g?(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-4",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Install Tracking Code"}),(0,t.jsxs)("p",{className:"text-gray-600 mt-2",children:["Add this snippet to your website's ",(0,t.jsx)("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"<head>"})," tag"]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Tracking Snippet"}),(0,t.jsx)("button",{onClick:()=>{g&&(navigator.clipboard.writeText(y()),j(!0),setTimeout(()=>j(!1),2e3))},className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:b?"Copied!":"Copy to clipboard"})]}),(0,t.jsx)("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto text-sm",children:(0,t.jsx)("code",{children:y()})})]}),(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:"What happens next?"}),(0,t.jsxs)("ul",{className:"text-sm text-blue-800 space-y-1",children:[(0,t.jsx)("li",{children:"â€¢ Paste this code in your website's HTML"}),(0,t.jsx)("li",{children:"â€¢ Deploy your changes"}),(0,t.jsx)("li",{children:"â€¢ Events will start flowing automatically"}),(0,t.jsx)("li",{children:"â€¢ You can verify tracking in the dashboard"})]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Your Site Details"}),(0,t.jsxs)("dl",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("dt",{className:"text-gray-600",children:"Site Name:"}),(0,t.jsx)("dd",{className:"font-medium text-gray-900",children:l})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("dt",{className:"text-gray-600",children:"Domain:"}),(0,t.jsx)("dd",{className:"font-medium text-gray-900",children:n})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("dt",{className:"text-gray-600",children:"Public Key:"}),(0,t.jsx)("dd",{className:"font-mono text-xs text-gray-900",children:g})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,t.jsx)("button",{onClick:r,className:"text-sm text-gray-600 hover:text-gray-900",children:"I'll do this later"}),(0,t.jsx)("button",{onClick:()=>s(u),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700",children:"Continue"})]})]})]}):(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Add Your Website"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"Set up tracking to measure conversions and attribute them to your ad campaigns"})]}),(0,t.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Site Name"}),(0,t.jsx)("input",{type:"text",id:"name",value:l,onChange:e=>i(e.target.value),placeholder:"My Store",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"domain",className:"block text-sm font-medium text-gray-700 mb-2",children:"Domain"}),(0,t.jsx)("input",{type:"text",id:"domain",value:n,onChange:e=>d(e.target.value),placeholder:"example.com",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enter your domain without https:// or www"})]}),m&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,t.jsx)("p",{className:"text-sm text-red-800",children:m})}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,t.jsx)("button",{type:"button",onClick:r,className:"text-sm text-gray-600 hover:text-gray-900",children:"Skip for now"}),(0,t.jsx)("button",{type:"submit",disabled:o||!l.trim()||!n.trim(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Creating...":"Create Site"})]})]})]})}function n({organizationId:e,onComplete:s,onSkip:r}){let[l,i]=(0,a.useState)([]),[n,d]=(0,a.useState)(!0);(0,a.useEffect)(()=>{o()},[]);let o=async()=>{try{let e=await fetch("/api/integrations");if(e.ok){let t=await e.json();i(t.connections||[])}}catch(e){console.error("Failed to fetch connections:",e)}finally{d(!1)}},c=e=>{window.location.href="meta"===e?"/api/integrations/meta/connect":"/api/integrations/google-ads/connect"},m=l.some(e=>"META_ADS"===e.platformCode),x=l.some(e=>"GOOGLE_ADS"===e.platformCode),u=m||x;return(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Connect Ad Platforms"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"Link your ad accounts to start tracking spend and performance"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"border border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Meta Ads"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Facebook & Instagram advertising"}),m&&(0,t.jsxs)("p",{className:"text-sm text-green-600 mt-1",children:["âœ“ ",l.filter(e=>"META_ADS"===e.platformCode).length," account(s) connected"]})]})]}),(0,t.jsx)("button",{onClick:()=>c("meta"),className:`px-4 py-2 rounded-lg font-medium ${m?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-blue-600 text-white hover:bg-blue-700"}`,children:m?"Add More":"Connect"})]})}),(0,t.jsx)("div",{className:"border border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Google Ads"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Search, Display & YouTube advertising"}),x&&(0,t.jsxs)("p",{className:"text-sm text-green-600 mt-1",children:["âœ“ ",l.filter(e=>"GOOGLE_ADS"===e.platformCode).length," account(s) connected"]})]})]}),(0,t.jsx)("button",{onClick:()=>c("google-ads"),className:`px-4 py-2 rounded-lg font-medium ${x?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-blue-600 text-white hover:bg-blue-700"}`,children:x?"Add More":"Connect"})]})})]}),u&&(0,t.jsx)("div",{className:"mt-6 bg-green-50 border border-green-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-green-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-green-900",children:"Connections Active"}),(0,t.jsx)("p",{className:"text-sm text-green-800 mt-1",children:"Your ad accounts are connected. We'll start syncing data automatically."})]})]})}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-6 mt-6 border-t border-gray-200",children:[(0,t.jsx)("button",{onClick:r,className:"text-sm text-gray-600 hover:text-gray-900",children:"I'll connect later"}),(0,t.jsx)("button",{onClick:s,disabled:!u,className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Continue":"Connect at least one platform"})]})]})}function d({organizationId:e,onComplete:s,onSkip:r}){let[l,i]=(0,a.useState)(""),[n,d]=(0,a.useState)(""),[o,c]=(0,a.useState)(!1),[m,x]=(0,a.useState)(""),u=async e=>{e.preventDefault(),c(!0),x("");try{let e=await fetch("/api/settings/tracking",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({targetCpa:l?parseFloat(l):void 0,targetRoas:n?parseFloat(n):void 0})});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to save targets")}s()}catch(e){x(e.message),c(!1)}};return(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Set Your Targets"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"Define your performance goals. We'll use these to identify waste and optimization opportunities."})]}),(0,t.jsxs)("form",{onSubmit:u,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"targetCpa",className:"block text-sm font-medium text-gray-700 mb-2",children:"Target CPA (Cost Per Acquisition)"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("span",{className:"absolute left-4 top-3.5 text-gray-500",children:"$"}),(0,t.jsx)("input",{type:"number",id:"targetCpa",value:l,onChange:e=>i(e.target.value),placeholder:"50.00",step:"0.01",min:"0",className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum amount you want to pay per conversion"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,t.jsx)("div",{className:"w-full border-t border-gray-200"})}),(0,t.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,t.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"targetRoas",className:"block text-sm font-medium text-gray-700 mb-2",children:"Target ROAS (Return On Ad Spend)"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"number",id:"targetRoas",value:n,onChange:e=>d(e.target.value),placeholder:"3.0",step:"0.1",min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,t.jsx)("span",{className:"absolute right-4 top-3.5 text-gray-500",children:"x"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum revenue multiple you want to achieve (e.g., 3x = $3 revenue per $1 spend)"})]}),(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:"ðŸ’¡ Pro Tip"}),(0,t.jsx)("p",{className:"text-sm text-blue-800",children:"You can set both targets, but we recommend starting with one based on your business model:"}),(0,t.jsxs)("ul",{className:"text-sm text-blue-800 mt-2 space-y-1",children:[(0,t.jsxs)("li",{children:["â€¢ ",(0,t.jsx)("strong",{children:"CPA"})," - Best for lead generation and subscription businesses"]}),(0,t.jsxs)("li",{children:["â€¢ ",(0,t.jsx)("strong",{children:"ROAS"})," - Best for e-commerce with varying order values"]})]})]}),m&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,t.jsx)("p",{className:"text-sm text-red-800",children:m})}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,t.jsx)("button",{type:"button",onClick:r,className:"text-sm text-gray-600 hover:text-gray-900",children:"Skip for now"}),(0,t.jsx)("button",{type:"submit",disabled:o||!l&&!n,className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Saving...":"Continue"})]})]})]})}function o({organizationId:e,onComplete:s}){let[r,l]=(0,a.useState)(!0),[i,n]=(0,a.useState)(!1),[d,o]=(0,a.useState)({totalSpend:0,conversions:0,cpa:0,roas:0});(0,a.useEffect)(()=>{c();let e=setInterval(c,5e3);return()=>clearInterval(e)},[]);let c=async()=>{try{let e=await fetch("/api/rollups/summary");if(e.ok){let t=await e.json();t.totalRollups>0&&(n(!0),o({totalSpend:t.totalSpend||0,conversions:t.totalConversions||0,cpa:t.avgCpa||0,roas:t.avgRoas||0}))}}catch(e){console.error("Failed to check for data:",e)}finally{l(!1)}};return r?(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,t.jsx)("p",{className:"text-gray-600 mt-4",children:"Checking for data..."})]})}):i?(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mb-4",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"You're All Set! ðŸŽ‰"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"Your data is flowing. Here's a quick snapshot of your performance."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-6",children:[(0,t.jsx)("p",{className:"text-sm text-blue-600 font-medium mb-1",children:"Total Spend"}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-blue-900",children:["$",(d.totalSpend/1e6).toFixed(2)]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-6",children:[(0,t.jsx)("p",{className:"text-sm text-green-600 font-medium mb-1",children:"Conversions"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-green-900",children:d.conversions.toFixed(0)})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-6",children:[(0,t.jsx)("p",{className:"text-sm text-purple-600 font-medium mb-1",children:"Avg CPA"}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-purple-900",children:["$",d.cpa.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-lg p-6",children:[(0,t.jsx)("p",{className:"text-sm text-orange-600 font-medium mb-1",children:"Avg ROAS"}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-orange-900",children:[d.roas.toFixed(2),"x"]})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg p-6 text-white mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"What's Next?"}),(0,t.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("li",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"mr-2",children:"ðŸ“Š"}),(0,t.jsx)("span",{children:"Explore your dashboard to see detailed performance metrics"})]}),(0,t.jsxs)("li",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"mr-2",children:"ðŸŽ¯"}),(0,t.jsx)("span",{children:"Review waste alerts to identify optimization opportunities"})]}),(0,t.jsxs)("li",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"mr-2",children:"ðŸ”„"}),(0,t.jsx)("span",{children:"Compare attribution models to understand your customer journey"})]}),(0,t.jsxs)("li",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"mr-2",children:"âš¡"}),(0,t.jsx)("span",{children:"Set up automated alerts for performance anomalies"})]})]})]}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("button",{onClick:s,className:"px-8 py-4 bg-blue-600 text-white rounded-lg font-semibold text-lg hover:bg-blue-700 shadow-lg hover:shadow-xl transition-all",children:"Go to Dashboard â†’"})})]}):(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Waiting for Data"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"We're syncing your ad data. This usually takes a few minutes."})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-blue-600 animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-blue-900",children:"What's happening?"}),(0,t.jsxs)("ul",{className:"text-sm text-blue-800 mt-2 space-y-1",children:[(0,t.jsx)("li",{children:"âœ“ Connecting to your ad platforms"}),(0,t.jsx)("li",{children:"âœ“ Fetching campaign data"}),(0,t.jsx)("li",{children:"âœ“ Processing attribution"}),(0,t.jsx)("li",{children:"â³ Generating insights..."})]})]})]})}),(0,t.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"While you wait..."}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center text-xs font-medium text-blue-600",children:"1"}),(0,t.jsx)("div",{className:"ml-3",children:(0,t.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,t.jsx)("strong",{children:"Verify tracking:"})," Make sure you've installed the tracking snippet on your website"]})})]}),(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center text-xs font-medium text-blue-600",children:"2"}),(0,t.jsx)("div",{className:"ml-3",children:(0,t.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,t.jsx)("strong",{children:"Check connections:"})," Ensure your ad accounts are properly connected"]})})]}),(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center text-xs font-medium text-blue-600",children:"3"}),(0,t.jsx)("div",{className:"ml-3",children:(0,t.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,t.jsx)("strong",{children:"Be patient:"})," Initial sync can take 5-10 minutes depending on your data volume"]})})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,t.jsx)("button",{onClick:c,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"â†» Refresh"}),(0,t.jsx)("button",{onClick:s,className:"px-6 py-3 bg-gray-600 text-white rounded-lg font-medium hover:bg-gray-700",children:"Go to Dashboard"})]})]})]})}let c=[{id:1,title:"Create Organization",description:"Set up your workspace"},{id:2,title:"Install Tracking",description:"Add tracking to your site"},{id:3,title:"Connect Platforms",description:"Link your ad accounts"},{id:4,title:"Set Targets",description:"Define your goals"},{id:5,title:"First Insights",description:"View your data"}];function m(e){let m,x,u,h,g,p,b,j,f,y,N,v,w,k,C,S=(0,s.c)(50),{userId:A,userEmail:T,userName:O,initialStep:F,organizationId:L}=e,z=(0,r.useRouter)(),[D,I]=(0,a.useState)(F),[M,P]=(0,a.useState)(L),[,E]=(0,a.useState)(null);S[0]!==D||S[1]!==z?(m=()=>{D<c.length?I(D+1):z.push("/app")},S[0]=D,S[1]=z,S[2]=m):m=S[2];let R=m;S[3]!==z?(x=()=>{z.push("/app")},S[3]=z,S[4]=x):x=S[4];let W=x;return S[5]===Symbol.for("react.memo_cache_sentinel")?(u=(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Optiq"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Get started in minutes"})]}),S[5]=u):u=S[5],S[6]!==D?(h=c.map(e=>(0,t.jsxs)("div",{className:`flex items-start ${e.id===D?"text-blue-600":e.id<D?"text-green-600":"text-gray-400"}`,children:[(0,t.jsx)("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${e.id===D?"bg-blue-100 text-blue-600":e.id<D?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"}`,children:e.id<D?"âœ“":e.id}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:e.title}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]})]},e.id)),S[6]=D,S[7]=h):h=S[7],S[8]!==h?(g=(0,t.jsx)("nav",{className:"space-y-4",children:h}),S[8]=h,S[9]=g):g=S[9],S[10]===Symbol.for("react.memo_cache_sentinel")?(p=(0,t.jsx)("br",{}),S[10]=p):p=S[10],S[11]!==T?(b=(0,t.jsx)("div",{className:"mt-8 pt-8 border-t border-gray-200",children:(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["Signed in as",p,(0,t.jsx)("span",{className:"font-medium text-gray-700",children:T})]})}),S[11]=T,S[12]=b):b=S[12],S[13]!==g||S[14]!==b?(j=(0,t.jsxs)("div",{className:"w-80 bg-white border-r border-gray-200 p-8",children:[u,g,b]}),S[13]=g,S[14]=b,S[15]=j):j=S[15],S[16]!==D||S[17]!==R||S[18]!==W||S[19]!==A||S[20]!==O?(f=1===D&&(0,t.jsx)(l,{userId:A,userName:O,onComplete:e=>{P(e),R()},onSkip:W}),S[16]=D,S[17]=R,S[18]=W,S[19]=A,S[20]=O,S[21]=f):f=S[21],S[22]!==D||S[23]!==R||S[24]!==W||S[25]!==M?(y=2===D&&M&&(0,t.jsx)(i,{organizationId:M,onComplete:e=>{E(e),R()},onSkip:W}),S[22]=D,S[23]=R,S[24]=W,S[25]=M,S[26]=y):y=S[26],S[27]!==D||S[28]!==R||S[29]!==W||S[30]!==M?(N=3===D&&M&&(0,t.jsx)(n,{organizationId:M,onComplete:R,onSkip:W}),S[27]=D,S[28]=R,S[29]=W,S[30]=M,S[31]=N):N=S[31],S[32]!==D||S[33]!==R||S[34]!==W||S[35]!==M?(v=4===D&&M&&(0,t.jsx)(d,{organizationId:M,onComplete:R,onSkip:W}),S[32]=D,S[33]=R,S[34]=W,S[35]=M,S[36]=v):v=S[36],S[37]!==D||S[38]!==M||S[39]!==z?(w=5===D&&M&&(0,t.jsx)(o,{organizationId:M,onComplete:()=>z.push("/app")}),S[37]=D,S[38]=M,S[39]=z,S[40]=w):w=S[40],S[41]!==y||S[42]!==N||S[43]!==v||S[44]!==w||S[45]!==f?(k=(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center p-8",children:(0,t.jsxs)("div",{className:"w-full max-w-2xl",children:[f,y,N,v,w]})}),S[41]=y,S[42]=N,S[43]=v,S[44]=w,S[45]=f,S[46]=k):k=S[46],S[47]!==k||S[48]!==j?(C=(0,t.jsxs)("div",{className:"flex min-h-screen",children:[j,k]}),S[47]=k,S[48]=j,S[49]=C):C=S[49],C}e.s(["OnboardingFlow",()=>m],75476)}]);