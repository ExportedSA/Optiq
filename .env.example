# ============================================================================
# OPTIQ - Environment Configuration
# ============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control - it contains secrets!
# ============================================================================

# ----------------------------------------------------------------------------
# APPLICATION SETTINGS
# ----------------------------------------------------------------------------
# Environment: development | staging | production
APP_ENV=development
NODE_ENV=development

# ----------------------------------------------------------------------------
# BACKEND API
# ----------------------------------------------------------------------------
# Port for the backend API server
PORT=3001

# CORS origin (frontend URL) - required in production
# CORS_ORIGIN=https://app.optiq.com

# Logging level: fatal | error | warn | info | debug | trace
LOG_LEVEL=info

# ----------------------------------------------------------------------------
# DATABASE
# ----------------------------------------------------------------------------
# PostgreSQL connection string
# 
# OPTION 1: Neon (Recommended - No Docker Required)
# Get from: https://neon.tech (free tier available)
# Format: postgresql://username:password@ep-xxx.region.aws.neon.tech/neondb?sslmode=require
DATABASE_URL=postgresql://username:password@ep-xxx-xxx.region.aws.neon.tech/neondb?sslmode=require
#
# OPTION 2: Local Docker PostgreSQL
# DATABASE_URL=postgresql://optiq:optiq@localhost:5432/optiq

# ----------------------------------------------------------------------------
# AUTHENTICATION & SECURITY
# ----------------------------------------------------------------------------
# NextAuth secret for session encryption (REQUIRED - min 32 characters)
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=your-secret-key-here-minimum-32-characters-required

# Canonical URL of your site (required in production)
NEXTAUTH_URL=http://localhost:3000

# Data encryption key for sensitive data (REQUIRED - min 32 characters)
# Generate with: openssl rand -base64 32
DATA_ENCRYPTION_KEY=your-encryption-key-here-minimum-32-characters

# ----------------------------------------------------------------------------
# STRIPE BILLING (REQUIRED for billing features)
# ----------------------------------------------------------------------------
# Get keys from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key

# Webhook signing secret from: https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Stripe Price IDs for each plan (create in Stripe Dashboard)
STRIPE_PRICE_STARTER=price_starter_monthly_id
STRIPE_PRICE_GROWTH=price_growth_monthly_id

# ----------------------------------------------------------------------------
# SENTRY ERROR TRACKING (OPTIONAL)
# ----------------------------------------------------------------------------
# Get DSN from: https://sentry.io/settings/projects/
# SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx
# SENTRY_ENVIRONMENT=development

# ----------------------------------------------------------------------------
# CRON JOB SECURITY
# ----------------------------------------------------------------------------
# Secret for authenticating cron job requests (generate with: openssl rand -hex 32)
CRON_SECRET=your-cron-secret-here

# ----------------------------------------------------------------------------
# UPSTASH REDIS (OPTIONAL - for distributed locks and caching)
# ----------------------------------------------------------------------------
# Get credentials from: https://console.upstash.com/
# Required for cron job idempotency locks in production
# UPSTASH_REDIS_REST_URL=https://xxx.upstash.io
# UPSTASH_REDIS_REST_TOKEN=your-upstash-token

# ----------------------------------------------------------------------------
# GOOGLE OAUTH & ADS INTEGRATION
# ----------------------------------------------------------------------------
# Get credentials from: https://console.cloud.google.com/apis/credentials
GOOGLE_OAUTH_CLIENT_ID=your-google-oauth-client-id
GOOGLE_OAUTH_CLIENT_SECRET=your-google-oauth-client-secret
GOOGLE_OAUTH_REDIRECT_URI=http://localhost:3000/api/integrations/google-ads/oauth/callback

# Google Ads API credentials
# Get developer token from: https://developers.google.com/google-ads/api/docs/get-started/dev-token
GOOGLE_ADS_DEVELOPER_TOKEN=your-google-ads-developer-token

# Optional: Manager Account ID (MCC) if using a manager account
# GOOGLE_ADS_LOGIN_CUSTOMER_ID=1234567890

# ----------------------------------------------------------------------------
# META (FACEBOOK) ADS INTEGRATION
# ----------------------------------------------------------------------------
# Get credentials from: https://developers.facebook.com/apps/
META_APP_ID=your-meta-app-id
META_APP_SECRET=your-meta-app-secret
META_OAUTH_REDIRECT_URI=http://localhost:3000/api/integrations/meta-ads/oauth/callback

# Meta Graph API version (default: v20.0)
META_API_VERSION=v20.0

# ----------------------------------------------------------------------------
# TIKTOK ADS INTEGRATION
# ----------------------------------------------------------------------------
# Get credentials from: https://ads.tiktok.com/marketing_api/apps/
TIKTOK_APP_ID=your-tiktok-app-id
TIKTOK_APP_SECRET=your-tiktok-app-secret
TIKTOK_OAUTH_REDIRECT_URI=http://localhost:3000/api/integrations/tiktok-ads/oauth/callback

# TikTok Business API base URL (default: https://business-api.tiktok.com)
TIKTOK_API_BASE_URL=https://business-api.tiktok.com

# ----------------------------------------------------------------------------
# EMAIL NOTIFICATIONS (OPTIONAL)
# ----------------------------------------------------------------------------
# SMTP server configuration for sending email notifications
# Leave empty to disable email notifications

# SMTP server hostname (e.g., smtp.gmail.com, smtp.sendgrid.net)
SMTP_HOST=

# SMTP server port (common: 587 for TLS, 465 for SSL, 25 for unencrypted)
SMTP_PORT=

# SMTP authentication credentials
SMTP_USER=
SMTP_PASSWORD=

# From address for outgoing emails
SMTP_FROM_EMAIL=
SMTP_FROM_NAME=Optiq

# ============================================================================
# PRODUCTION DEPLOYMENT NOTES
# ============================================================================
# 1. Generate strong secrets:
#    - NEXTAUTH_SECRET: openssl rand -base64 32
#    - DATA_ENCRYPTION_KEY: openssl rand -base64 32
#
# 2. Update URLs for production:
#    - NEXTAUTH_URL: https://your-domain.com
#    - CORS_ORIGIN: https://your-domain.com
#    - All OAuth redirect URIs
#
# 3. Use environment-specific database URLs
#
# 4. Set APP_ENV=production and NODE_ENV=production
#
# 5. Configure LOG_LEVEL appropriately (info or warn for production)
# ============================================================================
